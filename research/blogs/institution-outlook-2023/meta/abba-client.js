!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("url")):"function"==typeof define&&define.amd?define(["url"],t):((e="undefined"!=typeof globalThis?globalThis:e||self).__bloomberg__=e.__bloomberg__||{},e.__bloomberg__._abbaClientClass=t(e.url))}(this,(function(e){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(e){var t={exports:{}};return e(t,t.exports),t.exports}var n,o,i=function(e){return e&&e.Math==Math&&e},a=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof t&&t)||function(){return this}()||Function("return this")(),s=Function.prototype,u=s.apply,c=s.bind,f=s.call,l="object"==typeof Reflect&&Reflect.apply||(c?f.bind(u):function(){return f.apply(u,arguments)}),d=Function.prototype,p=d.bind,v=d.call,h=p&&p.bind(v),g=p?function(e){return e&&h(v,e)}:function(e){return e&&function(){return v.apply(e,arguments)}},m=function(e){return"function"==typeof e},b=function(e){try{return!!e()}catch(e){return!0}},w=!b((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),y=Function.prototype.call,E=y.bind?y.bind(y):function(){return y.apply(y,arguments)},x={}.propertyIsEnumerable,I=Object.getOwnPropertyDescriptor,k={f:I&&!x.call({1:2},1)?function(e){var t=I(this,e);return!!t&&t.enumerable}:x},S=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},O=g({}.toString),A=g("".slice),T=function(e){return A(O(e),8,-1)},R=a.Object,_=g("".split),P=b((function(){return!R("z").propertyIsEnumerable(0)}))?function(e){return"String"==T(e)?_(e,""):R(e)}:R,C=a.TypeError,N=function(e){if(null==e)throw C("Can't call method on "+e);return e},L=function(e){return P(N(e))},j=function(e){return"object"==typeof e?null!==e:m(e)},M={},D=function(e){return m(e)?e:void 0},F=function(e,t){return arguments.length<2?D(M[e])||D(a[e]):M[e]&&M[e][t]||a[e]&&a[e][t]},U=g({}.isPrototypeOf),B=F("navigator","userAgent")||"",$=a.process,z=a.Deno,G=$&&$.versions||z&&z.version,V=G&&G.v8;V&&(o=(n=V.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&B&&(!(n=B.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=B.match(/Chrome\/(\d+)/))&&(o=+n[1]);var W=o,X=!!Object.getOwnPropertySymbols&&!b((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&W&&W<41})),H=X&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,K=a.Object,Q=H?function(e){return"symbol"==typeof e}:function(e){var t=F("Symbol");return m(t)&&U(t.prototype,K(e))},q=a.String,J=function(e){try{return q(e)}catch(e){return"Object"}},Y=a.TypeError,Z=function(e){if(m(e))return e;throw Y(J(e)+" is not a function")},ee=function(e,t){var r=e[t];return null==r?void 0:Z(r)},te=a.TypeError,re=Object.defineProperty,ne="__core-js_shared__",oe=a[ne]||function(e,t){try{re(a,e,{value:t,configurable:!0,writable:!0})}catch(r){a[e]=t}return t}(ne,{}),ie=r((function(e){(e.exports=function(e,t){return oe[e]||(oe[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.19.2",mode:"pure",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),ae=a.Object,se=function(e){return ae(N(e))},ue=g({}.hasOwnProperty),ce=Object.hasOwn||function(e,t){return ue(se(e),t)},fe=0,le=Math.random(),de=g(1..toString),pe=function(e){return"Symbol("+(void 0===e?"":e)+")_"+de(++fe+le,36)},ve=ie("wks"),he=a.Symbol,ge=he&&he.for,me=H?he:he&&he.withoutSetter||pe,be=function(e){if(!ce(ve,e)||!X&&"string"!=typeof ve[e]){var t="Symbol."+e;X&&ce(he,e)?ve[e]=he[e]:ve[e]=H&&ge?ge(t):me(t)}return ve[e]},we=a.TypeError,ye=be("toPrimitive"),Ee=function(e,t){if(!j(e)||Q(e))return e;var r,n=ee(e,ye);if(n){if(void 0===t&&(t="default"),r=E(n,e,t),!j(r)||Q(r))return r;throw we("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var r,n;if("string"===t&&m(r=e.toString)&&!j(n=E(r,e)))return n;if(m(r=e.valueOf)&&!j(n=E(r,e)))return n;if("string"!==t&&m(r=e.toString)&&!j(n=E(r,e)))return n;throw te("Can't convert object to primitive value")}(e,t)},xe=function(e){var t=Ee(e,"string");return Q(t)?t:t+""},Ie=a.document,ke=j(Ie)&&j(Ie.createElement),Se=function(e){return ke?Ie.createElement(e):{}},Oe=!w&&!b((function(){return 7!=Object.defineProperty(Se("div"),"a",{get:function(){return 7}}).a})),Ae=Object.getOwnPropertyDescriptor,Te={f:w?Ae:function(e,t){if(e=L(e),t=xe(t),Oe)try{return Ae(e,t)}catch(e){}if(ce(e,t))return S(!E(k.f,e,t),e[t])}},Re=/#|\.prototype\./,_e=function(e,t){var r=Ce[Pe(e)];return r==Le||r!=Ne&&(m(t)?b(t):!!t)},Pe=_e.normalize=function(e){return String(e).replace(Re,".").toLowerCase()},Ce=_e.data={},Ne=_e.NATIVE="N",Le=_e.POLYFILL="P",je=_e,Me=g(g.bind),De=function(e,t){return Z(e),void 0===t?e:Me?Me(e,t):function(){return e.apply(t,arguments)}},Fe=a.String,Ue=a.TypeError,Be=function(e){if(j(e))return e;throw Ue(Fe(e)+" is not an object")},$e=a.TypeError,ze=Object.defineProperty,Ge={f:w?ze:function(e,t,r){if(Be(e),t=xe(t),Be(r),Oe)try{return ze(e,t,r)}catch(e){}if("get"in r||"set"in r)throw $e("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},Ve=w?function(e,t,r){return Ge.f(e,t,S(1,r))}:function(e,t,r){return e[t]=r,e},We=Te.f,Xe=function(e){var t=function(r,n,o){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(r);case 2:return new e(r,n)}return new e(r,n,o)}return l(e,this,arguments)};return t.prototype=e.prototype,t},He=function(e,t){var r,n,o,i,s,u,c,f,l=e.target,d=e.global,p=e.stat,v=e.proto,h=d?a:p?a[l]:(a[l]||{}).prototype,b=d?M:M[l]||Ve(M,l,{})[l],w=b.prototype;for(o in t)r=!je(d?o:l+(p?".":"#")+o,e.forced)&&h&&ce(h,o),s=b[o],r&&(u=e.noTargetGet?(f=We(h,o))&&f.value:h[o]),i=r&&u?u:t[o],r&&typeof s==typeof i||(c=e.bind&&r?De(i,a):e.wrap&&r?Xe(i):v&&m(i)?g(i):i,(e.sham||i&&i.sham||s&&s.sham)&&Ve(c,"sham",!0),Ve(b,o,c),v&&(ce(M,n=l+"Prototype")||Ve(M,n,{}),Ve(M[n],o,i),e.real&&w&&!w[o]&&Ve(w,o,i)))},Ke=Array.isArray||function(e){return"Array"==T(e)};He({target:"Array",stat:!0},{isArray:Ke});var Qe=M.Array.isArray;var qe=Math.ceil,Je=Math.floor,Ye=function(e){var t=+e;return t!=t||0===t?0:(t>0?Je:qe)(t)},Ze=Math.min,et=function(e){return(t=e.length)>0?Ze(Ye(t),9007199254740991):0;var t},tt=function(e,t,r){var n=xe(t);n in e?Ge.f(e,n,S(0,r)):e[n]=r},rt={};rt[be("toStringTag")]="z";var nt="[object z]"===String(rt),ot=be("toStringTag"),it=a.Object,at="Arguments"==T(function(){return arguments}()),st=nt?T:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=it(e),ot))?r:at?T(t):"Object"==(n=T(t))&&m(t.callee)?"Arguments":n},ut=g(Function.toString);m(oe.inspectSource)||(oe.inspectSource=function(e){return ut(e)});var ct=oe.inspectSource,ft=function(){},lt=[],dt=F("Reflect","construct"),pt=/^\s*(?:class|function)\b/,vt=g(pt.exec),ht=!pt.exec(ft),gt=function(e){if(!m(e))return!1;try{return dt(ft,lt,e),!0}catch(e){return!1}},mt=!dt||b((function(){var e;return gt(gt.call)||!gt(Object)||!gt((function(){e=!0}))||e}))?function(e){if(!m(e))return!1;switch(st(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return ht||!!vt(pt,ct(e))}:gt,bt=be("species"),wt=a.Array,yt=function(e,t){return new(function(e){var t;return Ke(e)&&(t=e.constructor,(mt(t)&&(t===wt||Ke(t.prototype))||j(t)&&null===(t=t[bt]))&&(t=void 0)),void 0===t?wt:t}(e))(0===t?0:t)},Et=be("species"),xt=function(e){return W>=51||!b((function(){var t=[];return(t.constructor={})[Et]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},It=be("isConcatSpreadable"),kt=9007199254740991,St="Maximum allowed index exceeded",Ot=a.TypeError,At=W>=51||!b((function(){var e=[];return e[It]=!1,e.concat()[0]!==e})),Tt=xt("concat"),Rt=function(e){if(!j(e))return!1;var t=e[It];return void 0!==t?!!t:Ke(e)};He({target:"Array",proto:!0,forced:!At||!Tt},{concat:function(e){var t,r,n,o,i,a=se(this),s=yt(a,0),u=0;for(t=-1,n=arguments.length;t<n;t++)if(Rt(i=-1===t?a:arguments[t])){if(u+(o=et(i))>kt)throw Ot(St);for(r=0;r<o;r++,u++)r in i&&tt(s,u,i[r])}else{if(u>=kt)throw Ot(St);tt(s,u++,i)}return s.length=u,s}});var _t,Pt=a.String,Ct=function(e){if("Symbol"===st(e))throw TypeError("Cannot convert a Symbol value to a string");return Pt(e)},Nt=Math.max,Lt=Math.min,jt=function(e,t){var r=Ye(e);return r<0?Nt(r+t,0):Lt(r,t)},Mt=function(e){return function(t,r,n){var o,i=L(t),a=et(i),s=jt(n,a);if(e&&r!=r){for(;a>s;)if((o=i[s++])!=o)return!0}else for(;a>s;s++)if((e||s in i)&&i[s]===r)return e||s||0;return!e&&-1}},Dt={includes:Mt(!0),indexOf:Mt(!1)},Ft={},Ut=Dt.indexOf,Bt=g([].push),$t=function(e,t){var r,n=L(e),o=0,i=[];for(r in n)!ce(Ft,r)&&ce(n,r)&&Bt(i,r);for(;t.length>o;)ce(n,r=t[o++])&&(~Ut(i,r)||Bt(i,r));return i},zt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Gt=Object.keys||function(e){return $t(e,zt)},Vt=w?Object.defineProperties:function(e,t){Be(e);for(var r,n=L(t),o=Gt(t),i=o.length,a=0;i>a;)Ge.f(e,r=o[a++],n[r]);return e},Wt=F("document","documentElement"),Xt=ie("keys"),Ht=function(e){return Xt[e]||(Xt[e]=pe(e))},Kt=Ht("IE_PROTO"),Qt=function(){},qt=function(e){return"<script>"+e+"</"+"script>"},Jt=function(e){e.write(qt("")),e.close();var t=e.parentWindow.Object;return e=null,t},Yt=function(){try{_t=new ActiveXObject("htmlfile")}catch(e){}var e,t;Yt="undefined"!=typeof document?document.domain&&_t?Jt(_t):((t=Se("iframe")).style.display="none",Wt.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(qt("document.F=Object")),e.close(),e.F):Jt(_t);for(var r=zt.length;r--;)delete Yt.prototype[zt[r]];return Yt()};Ft[Kt]=!0;var Zt,er,tr,rr=Object.create||function(e,t){var r;return null!==e?(Qt.prototype=Be(e),r=new Qt,Qt.prototype=null,r[Kt]=e):r=Yt(),void 0===t?r:Vt(r,t)},nr=zt.concat("length","prototype"),or={f:Object.getOwnPropertyNames||function(e){return $t(e,nr)}},ir=a.Array,ar=Math.max,sr=function(e,t,r){for(var n=et(e),o=jt(t,n),i=jt(void 0===r?n:r,n),a=ir(ar(i-o,0)),s=0;o<i;o++,s++)tt(a,s,e[o]);return a.length=s,a},ur=or.f,cr="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],fr={f:function(e){return cr&&"Window"==T(e)?function(e){try{return ur(e)}catch(e){return sr(cr)}}(e):ur(L(e))}},lr={f:Object.getOwnPropertySymbols},dr=g([].slice),pr=function(e,t,r,n){n&&n.enumerable?e[t]=r:Ve(e,t,r)},vr={f:be},hr=Ge.f,gr=function(e){var t=M.Symbol||(M.Symbol={});ce(t,e)||hr(t,e,{value:vr.f(e)})},mr=nt?{}.toString:function(){return"[object "+st(this)+"]"},br=Ge.f,wr=be("toStringTag"),yr=function(e,t,r,n){if(e){var o=r?e:e.prototype;ce(o,wr)||br(o,wr,{configurable:!0,value:t}),n&&!nt&&Ve(o,"toString",mr)}},Er=a.WeakMap,xr=m(Er)&&/native code/.test(ct(Er)),Ir="Object already initialized",kr=a.TypeError,Sr=a.WeakMap;if(xr||oe.state){var Or=oe.state||(oe.state=new Sr),Ar=g(Or.get),Tr=g(Or.has),Rr=g(Or.set);Zt=function(e,t){if(Tr(Or,e))throw new kr(Ir);return t.facade=e,Rr(Or,e,t),t},er=function(e){return Ar(Or,e)||{}},tr=function(e){return Tr(Or,e)}}else{var _r=Ht("state");Ft[_r]=!0,Zt=function(e,t){if(ce(e,_r))throw new kr(Ir);return t.facade=e,Ve(e,_r,t),t},er=function(e){return ce(e,_r)?e[_r]:{}},tr=function(e){return ce(e,_r)}}var Pr={set:Zt,get:er,has:tr,enforce:function(e){return tr(e)?er(e):Zt(e,{})},getterFor:function(e){return function(t){var r;if(!j(t)||(r=er(t)).type!==e)throw kr("Incompatible receiver, "+e+" required");return r}}},Cr=g([].push),Nr=function(e){var t=1==e,r=2==e,n=3==e,o=4==e,i=6==e,a=7==e,s=5==e||i;return function(u,c,f,l){for(var d,p,v=se(u),h=P(v),g=De(c,f),m=et(h),b=0,w=l||yt,y=t?w(u,m):r||a?w(u,0):void 0;m>b;b++)if((s||b in h)&&(p=g(d=h[b],b,v),e))if(t)y[b]=p;else if(p)switch(e){case 3:return!0;case 5:return d;case 6:return b;case 2:Cr(y,d)}else switch(e){case 4:return!1;case 7:Cr(y,d)}return i?-1:n||o?o:y}},Lr={forEach:Nr(0),map:Nr(1),filter:Nr(2),some:Nr(3),every:Nr(4),find:Nr(5),findIndex:Nr(6),filterReject:Nr(7)},jr=Lr.forEach,Mr=Ht("hidden"),Dr="Symbol",Fr=be("toPrimitive"),Ur=Pr.set,Br=Pr.getterFor(Dr),$r=Object.prototype,zr=a.Symbol,Gr=zr&&zr.prototype,Vr=a.TypeError,Wr=a.QObject,Xr=F("JSON","stringify"),Hr=Te.f,Kr=Ge.f,Qr=fr.f,qr=k.f,Jr=g([].push),Yr=ie("symbols"),Zr=ie("op-symbols"),en=ie("string-to-symbol-registry"),tn=ie("symbol-to-string-registry"),rn=ie("wks"),nn=!Wr||!Wr.prototype||!Wr.prototype.findChild,on=w&&b((function(){return 7!=rr(Kr({},"a",{get:function(){return Kr(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=Hr($r,t);n&&delete $r[t],Kr(e,t,r),n&&e!==$r&&Kr($r,t,n)}:Kr,an=function(e,t){var r=Yr[e]=rr(Gr);return Ur(r,{type:Dr,tag:e,description:t}),w||(r.description=t),r},sn=function(e,t,r){e===$r&&sn(Zr,t,r),Be(e);var n=xe(t);return Be(r),ce(Yr,n)?(r.enumerable?(ce(e,Mr)&&e[Mr][n]&&(e[Mr][n]=!1),r=rr(r,{enumerable:S(0,!1)})):(ce(e,Mr)||Kr(e,Mr,S(1,{})),e[Mr][n]=!0),on(e,n,r)):Kr(e,n,r)},un=function(e,t){Be(e);var r=L(t),n=Gt(r).concat(dn(r));return jr(n,(function(t){w&&!E(cn,r,t)||sn(e,t,r[t])})),e},cn=function(e){var t=xe(e),r=E(qr,this,t);return!(this===$r&&ce(Yr,t)&&!ce(Zr,t))&&(!(r||!ce(this,t)||!ce(Yr,t)||ce(this,Mr)&&this[Mr][t])||r)},fn=function(e,t){var r=L(e),n=xe(t);if(r!==$r||!ce(Yr,n)||ce(Zr,n)){var o=Hr(r,n);return!o||!ce(Yr,n)||ce(r,Mr)&&r[Mr][n]||(o.enumerable=!0),o}},ln=function(e){var t=Qr(L(e)),r=[];return jr(t,(function(e){ce(Yr,e)||ce(Ft,e)||Jr(r,e)})),r},dn=function(e){var t=e===$r,r=Qr(t?Zr:L(e)),n=[];return jr(r,(function(e){!ce(Yr,e)||t&&!ce($r,e)||Jr(n,Yr[e])})),n};if(X||(Gr=(zr=function(){if(U(Gr,this))throw Vr("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?Ct(arguments[0]):void 0,t=pe(e),r=function(e){this===$r&&E(r,Zr,e),ce(this,Mr)&&ce(this[Mr],t)&&(this[Mr][t]=!1),on(this,t,S(1,e))};return w&&nn&&on($r,t,{configurable:!0,set:r}),an(t,e)}).prototype,pr(Gr,"toString",(function(){return Br(this).tag})),pr(zr,"withoutSetter",(function(e){return an(pe(e),e)})),k.f=cn,Ge.f=sn,Te.f=fn,or.f=fr.f=ln,lr.f=dn,vr.f=function(e){return an(be(e),e)},w&&Kr(Gr,"description",{configurable:!0,get:function(){return Br(this).description}})),He({global:!0,wrap:!0,forced:!X,sham:!X},{Symbol:zr}),jr(Gt(rn),(function(e){gr(e)})),He({target:Dr,stat:!0,forced:!X},{for:function(e){var t=Ct(e);if(ce(en,t))return en[t];var r=zr(t);return en[t]=r,tn[r]=t,r},keyFor:function(e){if(!Q(e))throw Vr(e+" is not a symbol");if(ce(tn,e))return tn[e]},useSetter:function(){nn=!0},useSimple:function(){nn=!1}}),He({target:"Object",stat:!0,forced:!X,sham:!w},{create:function(e,t){return void 0===t?rr(e):un(rr(e),t)},defineProperty:sn,defineProperties:un,getOwnPropertyDescriptor:fn}),He({target:"Object",stat:!0,forced:!X},{getOwnPropertyNames:ln,getOwnPropertySymbols:dn}),He({target:"Object",stat:!0,forced:b((function(){lr.f(1)}))},{getOwnPropertySymbols:function(e){return lr.f(se(e))}}),Xr){var pn=!X||b((function(){var e=zr();return"[null]"!=Xr([e])||"{}"!=Xr({a:e})||"{}"!=Xr(Object(e))}));He({target:"JSON",stat:!0,forced:pn},{stringify:function(e,t,r){var n=dr(arguments),o=t;if((j(t)||void 0!==e)&&!Q(e))return Ke(t)||(t=function(e,t){if(m(o)&&(t=E(o,this,e,t)),!Q(t))return t}),n[1]=t,l(Xr,null,n)}})}if(!Gr[Fr]){var vn=Gr.valueOf;pr(Gr,Fr,(function(e){return E(vn,this)}))}yr(zr,Dr),Ft[Mr]=!0,gr("asyncIterator"),gr("hasInstance"),gr("isConcatSpreadable"),gr("iterator"),gr("match"),gr("matchAll"),gr("replace"),gr("search"),gr("species"),gr("split"),gr("toPrimitive"),gr("toStringTag"),gr("unscopables"),yr(a.JSON,"JSON",!0);var hn,gn,mn,bn=M.Symbol,wn={},yn=Function.prototype,En=w&&Object.getOwnPropertyDescriptor,xn=ce(yn,"name"),In={EXISTS:xn,PROPER:xn&&"something"===function(){}.name,CONFIGURABLE:xn&&(!w||w&&En(yn,"name").configurable)},kn=!b((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Sn=Ht("IE_PROTO"),On=a.Object,An=On.prototype,Tn=kn?On.getPrototypeOf:function(e){var t=se(e);if(ce(t,Sn))return t[Sn];var r=t.constructor;return m(r)&&t instanceof r?r.prototype:t instanceof On?An:null},Rn=be("iterator"),_n=!1;[].keys&&("next"in(mn=[].keys())?(gn=Tn(Tn(mn)))!==Object.prototype&&(hn=gn):_n=!0);var Pn=null==hn||b((function(){var e={};return hn[Rn].call(e)!==e}));hn=Pn?{}:rr(hn),m(hn[Rn])||pr(hn,Rn,(function(){return this}));var Cn={IteratorPrototype:hn,BUGGY_SAFARI_ITERATORS:_n},Nn=Cn.IteratorPrototype,Ln=function(){return this},jn=function(e,t,r){var n=t+" Iterator";return e.prototype=rr(Nn,{next:S(1,r)}),yr(e,n,!1,!0),wn[n]=Ln,e},Mn=a.String,Dn=a.TypeError,Fn=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=g(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return Be(r),function(e){if("object"==typeof e||m(e))return e;throw Dn("Can't set "+Mn(e)+" as a prototype")}(n),t?e(r,n):r.__proto__=n,r}}():void 0),Un=In.PROPER,Bn=Cn.BUGGY_SAFARI_ITERATORS,$n=be("iterator"),zn="keys",Gn="values",Vn="entries",Wn=function(){return this},Xn=function(e,t,r,n,o,i,a){jn(r,t,n);var s,u,c,f=function(e){if(e===o&&h)return h;if(!Bn&&e in p)return p[e];switch(e){case zn:case Gn:case Vn:return function(){return new r(this,e)}}return function(){return new r(this)}},l=t+" Iterator",d=!1,p=e.prototype,v=p[$n]||p["@@iterator"]||o&&p[o],h=!Bn&&v||f(o),g="Array"==t&&p.entries||v;if(g&&(s=Tn(g.call(new e)))!==Object.prototype&&s.next&&(yr(s,l,!0,!0),wn[l]=Wn),Un&&o==Gn&&v&&v.name!==Gn&&(d=!0,h=function(){return E(v,this)}),o)if(u={values:f(Gn),keys:i?h:f(zn),entries:f(Vn)},a)for(c in u)(Bn||d||!(c in p))&&pr(p,c,u[c]);else He({target:t,proto:!0,forced:Bn||d},u);return a&&p[$n]!==h&&pr(p,$n,h,{name:o}),wn[t]=h,u},Hn="Array Iterator",Kn=Pr.set,Qn=Pr.getterFor(Hn);Xn(Array,"Array",(function(e,t){Kn(this,{type:Hn,target:L(e),index:0,kind:t})}),(function(){var e=Qn(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),wn.Arguments=wn.Array;var qn=be("toStringTag");for(var Jn in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var Yn=a[Jn],Zn=Yn&&Yn.prototype;Zn&&st(Zn)!==qn&&Ve(Zn,qn,Jn),wn[Jn]=wn.Array}var eo=bn;gr("asyncDispose"),gr("dispose"),gr("matcher"),gr("metadata"),gr("observable"),gr("patternMatch"),gr("replaceAll");var to=eo,ro=g("".charAt),no=g("".charCodeAt),oo=g("".slice),io=function(e){return function(t,r){var n,o,i=Ct(N(t)),a=Ye(r),s=i.length;return a<0||a>=s?e?"":void 0:(n=no(i,a))<55296||n>56319||a+1===s||(o=no(i,a+1))<56320||o>57343?e?ro(i,a):n:e?oo(i,a,a+2):o-56320+(n-55296<<10)+65536}},ao={codeAt:io(!1),charAt:io(!0)}.charAt,so="String Iterator",uo=Pr.set,co=Pr.getterFor(so);Xn(String,"String",(function(e){uo(this,{type:so,string:Ct(e),index:0})}),(function(){var e,t=co(this),r=t.string,n=t.index;return n>=r.length?{value:void 0,done:!0}:(e=ao(r,n),t.index+=e.length,{value:e,done:!1})}));var fo=be("iterator"),lo=function(e){if(null!=e)return ee(e,fo)||ee(e,"@@iterator")||wn[st(e)]},po=lo;var vo=xt("slice"),ho=be("species"),go=a.Array,mo=Math.max;He({target:"Array",proto:!0,forced:!vo},{slice:function(e,t){var r,n,o,i=L(this),a=et(i),s=jt(e,a),u=jt(void 0===t?a:t,a);if(Ke(i)&&(r=i.constructor,(mt(r)&&(r===go||Ke(r.prototype))||j(r)&&null===(r=r[ho]))&&(r=void 0),r===go||void 0===r))return dr(i,s,u);for(n=new(void 0===r?go:r)(mo(u-s,0)),o=0;s<u;s++,o++)s in i&&tt(n,o,i[s]);return n.length=o,n}});var bo=function(e){return M[e+"Prototype"]},wo=bo("Array").slice,yo=Array.prototype,Eo=function(e){var t=e.slice;return e===yo||U(yo,e)&&t===yo.slice?wo:t},xo=Eo,Io=function(e,t,r){var n,o;Be(e);try{if(!(n=ee(e,"return"))){if("throw"===t)throw r;return r}n=E(n,e)}catch(e){o=!0,n=e}if("throw"===t)throw r;if(o)throw n;return Be(n),r},ko=function(e,t,r,n){try{return n?t(Be(r)[0],r[1]):t(r)}catch(t){Io(e,"throw",t)}},So=be("iterator"),Oo=Array.prototype,Ao=function(e){return void 0!==e&&(wn.Array===e||Oo[So]===e)},To=a.TypeError,Ro=function(e,t){var r=arguments.length<2?lo(e):t;if(Z(r))return Be(E(r,e));throw To(J(e)+" is not iterable")},_o=a.Array,Po=be("iterator"),Co=!1;try{var No=0,Lo={next:function(){return{done:!!No++}},return:function(){Co=!0}};Lo[Po]=function(){return this},Array.from(Lo,(function(){throw 2}))}catch(e){}var jo=function(e,t){if(!t&&!Co)return!1;var r=!1;try{var n={};n[Po]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(e){}return r},Mo=!jo((function(e){Array.from(e)}));He({target:"Array",stat:!0,forced:Mo},{from:function(e){var t=se(e),r=mt(this),n=arguments.length,o=n>1?arguments[1]:void 0,i=void 0!==o;i&&(o=De(o,n>2?arguments[2]:void 0));var a,s,u,c,f,l,d=lo(t),p=0;if(!d||this==_o&&Ao(d))for(a=et(t),s=r?new this(a):_o(a);a>p;p++)l=i?o(t[p],p):t[p],tt(s,p,l);else for(f=(c=Ro(t,d)).next,s=r?new this:[];!(u=E(f,c)).done;p++)l=i?ko(c,o,[u.value,p],!0):u.value,tt(s,p,l);return s.length=p,s}});var Do=M.Array.from,Fo=Do;function Uo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bo(e,t){var r;if(e){if("string"==typeof e)return Uo(e,t);var n=xo(r=Object.prototype.toString.call(e)).call(r,8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Fo(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Uo(e,t):void 0}}function $o(e,t){return function(e){if(Qe(e))return e}(e)||function(e,t){var r=null==e?null:void 0!==to&&po(e)||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(e,t)||Bo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var zo=g([].concat),Go=F("Reflect","ownKeys")||function(e){var t=or.f(Be(e)),r=lr.f;return r?zo(t,r(e)):t},Vo=g("".replace),Wo=g("".split),Xo=g([].join),Ho=String(Error("zxcasd").stack),Ko=/\n\s*at [^:]*:[^\n]*/,Qo=Ko.test(Ho),qo=/@[^\n]*\n/.test(Ho)&&!/zxcasd/.test(Ho),Jo=function(e,t){if("string"!=typeof e)return e;if(Qo)for(;t--;)e=Vo(e,Ko,"");else if(qo)return Xo(sr(Wo(e,"\n"),t),"\n");return e},Yo=function(e,t){j(t)&&"cause"in t&&Ve(e,"cause",t.cause)},Zo=a.TypeError,ei=function(e,t){this.stopped=e,this.result=t},ti=ei.prototype,ri=function(e,t,r){var n,o,i,a,s,u,c,f=r&&r.that,l=!(!r||!r.AS_ENTRIES),d=!(!r||!r.IS_ITERATOR),p=!(!r||!r.INTERRUPTED),v=De(t,f),h=function(e){return n&&Io(n,"normal",e),new ei(!0,e)},g=function(e){return l?(Be(e),p?v(e[0],e[1],h):v(e[0],e[1])):p?v(e,h):v(e)};if(d)n=e;else{if(!(o=lo(e)))throw Zo(J(e)+" is not iterable");if(Ao(o)){for(i=0,a=et(e);a>i;i++)if((s=g(e[i]))&&U(ti,s))return s;return new ei(!1)}n=Ro(e,o)}for(u=n.next;!(c=E(u,n)).done;){try{s=g(c.value)}catch(e){Io(n,"throw",e)}if("object"==typeof s&&s&&U(ti,s))return s}return new ei(!1)},ni=function(e,t){return void 0===e?arguments.length<2?"":t:Ct(e)},oi=!b((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",S(1,7)),7!==e.stack)})),ii=be("toStringTag"),ai=a.Error,si=[].push,ui=function(e,t){var r,n=arguments.length>2?arguments[2]:void 0,o=U(ci,this);Fn?r=Fn(new ai(void 0),o?Tn(this):ci):(r=o?this:rr(ci),Ve(r,ii,"Error")),Ve(r,"message",ni(t,"")),oi&&Ve(r,"stack",Jo(r.stack,1)),Yo(r,n);var i=[];return ri(e,si,{that:i}),Ve(r,"errors",i),r};Fn?Fn(ui,ai):function(e,t){for(var r=Go(t),n=Ge.f,o=Te.f,i=0;i<r.length;i++){var a=r[i];ce(e,a)||n(e,a,o(t,a))}}(ui,ai);var ci=ui.prototype=rr(ai.prototype,{constructor:S(1,ui),message:S(1,""),name:S(1,"AggregateError")});He({global:!0},{AggregateError:ui});var fi,li,di,pi,vi=a.Promise,hi=function(e,t,r){for(var n in t)r&&r.unsafe&&e[n]?e[n]=t[n]:pr(e,n,t[n],r);return e},gi=be("species"),mi=function(e){var t=F(e),r=Ge.f;w&&t&&!t[gi]&&r(t,gi,{configurable:!0,get:function(){return this}})},bi=a.TypeError,wi=function(e,t){if(U(t,e))return e;throw bi("Incorrect invocation")},yi=a.TypeError,Ei=be("species"),xi=function(e,t){var r,n=Be(e).constructor;return void 0===n||null==(r=Be(n)[Ei])?t:function(e){if(mt(e))return e;throw yi(J(e)+" is not a constructor")}(r)},Ii=/(?:ipad|iphone|ipod).*applewebkit/i.test(B),ki="process"==T(a.process),Si=a.setImmediate,Oi=a.clearImmediate,Ai=a.process,Ti=a.Dispatch,Ri=a.Function,_i=a.MessageChannel,Pi=a.String,Ci=0,Ni={},Li="onreadystatechange";try{fi=a.location}catch(e){}var ji=function(e){if(ce(Ni,e)){var t=Ni[e];delete Ni[e],t()}},Mi=function(e){return function(){ji(e)}},Di=function(e){ji(e.data)},Fi=function(e){a.postMessage(Pi(e),fi.protocol+"//"+fi.host)};Si&&Oi||(Si=function(e){var t=dr(arguments,1);return Ni[++Ci]=function(){l(m(e)?e:Ri(e),void 0,t)},li(Ci),Ci},Oi=function(e){delete Ni[e]},ki?li=function(e){Ai.nextTick(Mi(e))}:Ti&&Ti.now?li=function(e){Ti.now(Mi(e))}:_i&&!Ii?(pi=(di=new _i).port2,di.port1.onmessage=Di,li=De(pi.postMessage,pi)):a.addEventListener&&m(a.postMessage)&&!a.importScripts&&fi&&"file:"!==fi.protocol&&!b(Fi)?(li=Fi,a.addEventListener("message",Di,!1)):li=Li in Se("script")?function(e){Wt.appendChild(Se("script")).onreadystatechange=function(){Wt.removeChild(this),ji(e)}}:function(e){setTimeout(Mi(e),0)});var Ui,Bi,$i,zi,Gi,Vi,Wi,Xi,Hi={set:Si,clear:Oi},Ki=/ipad|iphone|ipod/i.test(B)&&void 0!==a.Pebble,Qi=/web0s(?!.*chrome)/i.test(B),qi=Te.f,Ji=Hi.set,Yi=a.MutationObserver||a.WebKitMutationObserver,Zi=a.document,ea=a.process,ta=a.Promise,ra=qi(a,"queueMicrotask"),na=ra&&ra.value;na||(Ui=function(){var e,t;for(ki&&(e=ea.domain)&&e.exit();Bi;){t=Bi.fn,Bi=Bi.next;try{t()}catch(e){throw Bi?zi():$i=void 0,e}}$i=void 0,e&&e.enter()},Ii||ki||Qi||!Yi||!Zi?!Ki&&ta&&ta.resolve?((Wi=ta.resolve(void 0)).constructor=ta,Xi=De(Wi.then,Wi),zi=function(){Xi(Ui)}):ki?zi=function(){ea.nextTick(Ui)}:(Ji=De(Ji,a),zi=function(){Ji(Ui)}):(Gi=!0,Vi=Zi.createTextNode(""),new Yi(Ui).observe(Vi,{characterData:!0}),zi=function(){Vi.data=Gi=!Gi}));var oa,ia,aa,sa=na||function(e){var t={fn:e,next:void 0};$i&&($i.next=t),Bi||(Bi=t,zi()),$i=t},ua=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=Z(t),this.reject=Z(r)},ca={f:function(e){return new ua(e)}},fa=function(e,t){if(Be(e),j(t)&&t.constructor===e)return t;var r=ca.f(e);return(0,r.resolve)(t),r.promise},la=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},da="object"==typeof window,pa=Hi.set,va=be("species"),ha="Promise",ga=Pr.get,ma=Pr.set,ba=Pr.getterFor(ha),wa=vi&&vi.prototype,ya=vi,Ea=wa,xa=a.TypeError,Ia=a.document,ka=a.process,Sa=ca.f,Oa=Sa,Aa=!!(Ia&&Ia.createEvent&&a.dispatchEvent),Ta=m(a.PromiseRejectionEvent),Ra="unhandledrejection",_a=je(ha,(function(){var e=ct(ya),t=e!==String(ya);if(!t&&66===W)return!0;if(!Ea.finally)return!0;if(W>=51&&/native code/.test(e))return!1;var r=new ya((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};return(r.constructor={})[va]=n,!(r.then((function(){}))instanceof n)||!t&&da&&!Ta})),Pa=_a||!jo((function(e){ya.all(e).catch((function(){}))})),Ca=function(e){var t;return!(!j(e)||!m(t=e.then))&&t},Na=function(e,t){if(!e.notified){e.notified=!0;var r=e.reactions;sa((function(){for(var n=e.value,o=1==e.state,i=0;r.length>i;){var a,s,u,c=r[i++],f=o?c.ok:c.fail,l=c.resolve,d=c.reject,p=c.domain;try{f?(o||(2===e.rejection&&Da(e),e.rejection=1),!0===f?a=n:(p&&p.enter(),a=f(n),p&&(p.exit(),u=!0)),a===c.promise?d(xa("Promise-chain cycle")):(s=Ca(a))?E(s,a,l,d):l(a)):d(n)}catch(e){p&&!u&&p.exit(),d(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ja(e)}))}},La=function(e,t,r){var n,o;Aa?((n=Ia.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),a.dispatchEvent(n)):n={promise:t,reason:r},!Ta&&(o=a["on"+e])?o(n):e===Ra&&function(e,t){var r=a.console;r&&r.error&&(1==arguments.length?r.error(e):r.error(e,t))}("Unhandled promise rejection",r)},ja=function(e){E(pa,a,(function(){var t,r=e.facade,n=e.value;if(Ma(e)&&(t=la((function(){ki?ka.emit("unhandledRejection",n,r):La(Ra,r,n)})),e.rejection=ki||Ma(e)?2:1,t.error))throw t.value}))},Ma=function(e){return 1!==e.rejection&&!e.parent},Da=function(e){E(pa,a,(function(){var t=e.facade;ki?ka.emit("rejectionHandled",t):La("rejectionhandled",t,e.value)}))},Fa=function(e,t,r){return function(n){e(t,n,r)}},Ua=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,Na(e,!0))},Ba=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw xa("Promise can't be resolved itself");var n=Ca(t);n?sa((function(){var r={done:!1};try{E(n,t,Fa(Ba,r,e),Fa(Ua,r,e))}catch(t){Ua(r,t,e)}})):(e.value=t,e.state=1,Na(e,!1))}catch(t){Ua({done:!1},t,e)}}};_a&&(Ea=(ya=function(e){wi(this,Ea),Z(e),E(oa,this);var t=ga(this);try{e(Fa(Ba,t),Fa(Ua,t))}catch(e){Ua(t,e)}}).prototype,(oa=function(e){ma(this,{type:ha,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=hi(Ea,{then:function(e,t){var r=ba(this),n=r.reactions,o=Sa(xi(this,ya));return o.ok=!m(e)||e,o.fail=m(t)&&t,o.domain=ki?ka.domain:void 0,r.parent=!0,n[n.length]=o,0!=r.state&&Na(r,!1),o.promise},catch:function(e){return this.then(void 0,e)}}),ia=function(){var e=new oa,t=ga(e);this.promise=e,this.resolve=Fa(Ba,t),this.reject=Fa(Ua,t)},ca.f=Sa=function(e){return e===ya||e===aa?new ia(e):Oa(e)}),He({global:!0,wrap:!0,forced:_a},{Promise:ya}),yr(ya,ha,!1,!0),mi(ha),aa=F(ha),He({target:ha,stat:!0,forced:_a},{reject:function(e){var t=Sa(this);return E(t.reject,void 0,e),t.promise}}),He({target:ha,stat:!0,forced:true},{resolve:function(e){return fa(this===aa?ya:this,e)}}),He({target:ha,stat:!0,forced:Pa},{all:function(e){var t=this,r=Sa(t),n=r.resolve,o=r.reject,i=la((function(){var r=Z(t.resolve),i=[],a=0,s=1;ri(e,(function(e){var u=a++,c=!1;s++,E(r,t,e).then((function(e){c||(c=!0,i[u]=e,--s||n(i))}),o)})),--s||n(i)}));return i.error&&o(i.value),r.promise},race:function(e){var t=this,r=Sa(t),n=r.reject,o=la((function(){var o=Z(t.resolve);ri(e,(function(e){E(o,t,e).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}}),He({target:"Promise",stat:!0},{allSettled:function(e){var t=this,r=ca.f(t),n=r.resolve,o=r.reject,i=la((function(){var r=Z(t.resolve),o=[],i=0,a=1;ri(e,(function(e){var s=i++,u=!1;a++,E(r,t,e).then((function(e){u||(u=!0,o[s]={status:"fulfilled",value:e},--a||n(o))}),(function(e){u||(u=!0,o[s]={status:"rejected",reason:e},--a||n(o))}))})),--a||n(o)}));return i.error&&o(i.value),r.promise}});var $a="No one promise resolved";He({target:"Promise",stat:!0},{any:function(e){var t=this,r=F("AggregateError"),n=ca.f(t),o=n.resolve,i=n.reject,a=la((function(){var n=Z(t.resolve),a=[],s=0,u=1,c=!1;ri(e,(function(e){var f=s++,l=!1;u++,E(n,t,e).then((function(e){l||c||(c=!0,o(e))}),(function(e){l||c||(l=!0,a[f]=e,--u||i(new r(a,$a)))}))})),--u||i(new r(a,$a))}));return a.error&&i(a.value),n.promise}});var za=!!vi&&b((function(){vi.prototype.finally.call({then:function(){}},(function(){}))}));He({target:"Promise",proto:!0,real:!0,forced:za},{finally:function(e){var t=xi(this,F("Promise")),r=m(e);return this.then(r?function(r){return fa(t,e()).then((function(){return r}))}:e,r?function(r){return fa(t,e()).then((function(){throw r}))}:e)}});var Ga=M.Promise;He({target:"Promise",stat:!0},{try:function(e){var t=ca.f(this),r=la(e);return(r.error?t.reject:t.resolve)(r.value),t.promise}});var Va=Ga;function Wa(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Va.resolve(u).then(n,o)}function Xa(e){return function(){var t=this,r=arguments;return new Va((function(n,o){var i=e.apply(t,r);function a(e){Wa(i,n,o,a,s,"next",e)}function s(e){Wa(i,n,o,a,s,"throw",e)}a(void 0)}))}}function Ha(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}He({target:"Object",stat:!0,forced:!w,sham:!w},{defineProperty:Ge.f});var Ka=r((function(e){var t=M.Object,r=e.exports=function(e,r,n){return t.defineProperty(e,r,n)};t.defineProperty.sham&&(r.sham=!0)}));function Qa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Ka(e,n.key,n)}}function qa(e,t,r){return t&&Qa(e.prototype,t),r&&Qa(e,r),e}function Ja(e,t,r){return t in e?Ka(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ya=Ga,Za=bo("Array").concat,es=Array.prototype,ts=function(e){var t=e.concat;return e===es||U(es,e)&&t===es.concat?Za:t},rs=Object.assign,ns=Object.defineProperty,os=g([].concat),is=!rs||b((function(){if(w&&1!==rs({b:1},rs(ns({},"a",{enumerable:!0,get:function(){ns(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!=rs({},e)[r]||Gt(rs({},t)).join("")!=n}))?function(e,t){for(var r=se(e),n=arguments.length,o=1,i=lr.f,a=k.f;n>o;)for(var s,u=P(arguments[o++]),c=i?os(Gt(u),i(u)):Gt(u),f=c.length,l=0;f>l;)s=c[l++],w&&!E(a,u,s)||(r[s]=u[s]);return r}:rs;He({target:"Object",stat:!0,forced:Object.assign!==is},{assign:is});var as=M.Object.assign,ss=r((function(e){var t=function(e){var t,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),a=new T(n||[]);return i._invoke=function(e,t,r){var n=l;return function(o,i){if(n===p)throw new Error("Generator is already running");if(n===v){if("throw"===o)throw i;return _()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=S(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var u=f(e,t,r);if("normal"===u.type){if(n=r.done?v:d,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=v,r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l="suspendedStart",d="suspendedYield",p="executing",v="completed",h={};function g(){}function m(){}function b(){}var w={};u(w,i,(function(){return this}));var y=Object.getPrototypeOf,E=y&&y(y(R([])));E&&E!==r&&n.call(E,i)&&(w=E);var x=b.prototype=g.prototype=Object.create(w);function I(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,i,a,s){var u=f(e[o],e,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var o;this._invoke=function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}}function S(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method))return h;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=f(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,h;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function R(e){if(e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:_}}function _(){return{value:t,done:!0}}return m.prototype=b,u(x,"constructor",b),u(b,"constructor",m),m.displayName=u(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},I(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},I(x),u(x,s,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=R,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:R(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})),us=Lr.find,cs="find",fs=!0;cs in[]&&Array(1).find((function(){fs=!1})),He({target:"Array",proto:!0,forced:fs},{find:function(e){return us(this,e,arguments.length>1?arguments[1]:void 0)}});var ls=bo("Array").find,ds=Array.prototype,ps=function(e){var t=e.find;return e===ds||U(ds,e)&&t===ds.find?ls:t},vs=b((function(){Gt(1)}));He({target:"Object",stat:!0,forced:vs},{keys:function(e){return Gt(se(e))}});var hs=M.Object.keys,gs=M.Object.getOwnPropertySymbols,ms=Lr.filter,bs=xt("filter");He({target:"Array",proto:!0,forced:!bs},{filter:function(e){return ms(this,e,arguments.length>1?arguments[1]:void 0)}});var ws=bo("Array").filter,ys=Array.prototype,Es=function(e){var t=e.filter;return e===ys||U(ys,e)&&t===ys.filter?ws:t},xs=Te.f,Is=b((function(){xs(1)}));He({target:"Object",stat:!0,forced:!w||Is,sham:!w},{getOwnPropertyDescriptor:function(e,t){return xs(L(e),t)}});var ks=r((function(e){var t=M.Object,r=e.exports=function(e,r){return t.getOwnPropertyDescriptor(e,r)};t.getOwnPropertyDescriptor.sham&&(r.sham=!0)}));He({target:"Object",stat:!0,sham:!w},{getOwnPropertyDescriptors:function(e){for(var t,r,n=L(e),o=Te.f,i=Go(n),a={},s=0;i.length>s;)void 0!==(r=o(n,t=i[s++]))&&tt(a,t,r);return a}});var Ss=M.Object.getOwnPropertyDescriptors,Os=be("iterator"),As=!b((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[Os]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host})),Ts=Math.floor,Rs=function(e,t){var r=e.length,n=Ts(r/2);return r<8?_s(e,t):Ps(e,Rs(sr(e,0,n),t),Rs(sr(e,n),t),t)},_s=function(e,t){for(var r,n,o=e.length,i=1;i<o;){for(n=i,r=e[i];n&&t(e[n-1],r)>0;)e[n]=e[--n];n!==i++&&(e[n]=r)}return e},Ps=function(e,t,r,n){for(var o=t.length,i=r.length,a=0,s=0;a<o||s<i;)e[a+s]=a<o&&s<i?n(t[a],r[s])<=0?t[a++]:r[s++]:a<o?t[a++]:r[s++];return e},Cs=Rs,Ns=be("iterator"),Ls="URLSearchParams",js="URLSearchParamsIterator",Ms=Pr.set,Ds=Pr.getterFor(Ls),Fs=Pr.getterFor(js),Us=F("fetch"),Bs=F("Request"),$s=F("Headers"),zs=Bs&&Bs.prototype,Gs=$s&&$s.prototype,Vs=a.RegExp,Ws=a.TypeError,Xs=a.decodeURIComponent,Hs=a.encodeURIComponent,Ks=g("".charAt),Qs=g([].join),qs=g([].push),Js=g("".replace),Ys=g([].shift),Zs=g([].splice),eu=g("".split),tu=g("".slice),ru=/\+/g,nu=Array(4),ou=function(e){return nu[e-1]||(nu[e-1]=Vs("((?:%[\\da-f]{2}){"+e+"})","gi"))},iu=function(e){try{return Xs(e)}catch(t){return e}},au=function(e){var t=Js(e,ru," "),r=4;try{return Xs(t)}catch(e){for(;r;)t=Js(t,ou(r--),iu);return t}},su=/[!'()~]|%20/g,uu={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},cu=function(e){return uu[e]},fu=function(e){return Js(Hs(e),su,cu)},lu=function(e,t){if(e<t)throw Ws("Not enough arguments")},du=jn((function(e,t){Ms(this,{type:js,iterator:Ro(Ds(e).entries),kind:t})}),"Iterator",(function(){var e=Fs(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r})),pu=function(e){this.entries=[],this.url=null,void 0!==e&&(j(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===Ks(e,0)?tu(e,1):e:Ct(e)))};pu.prototype={type:Ls,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,r,n,o,i,a,s,u=lo(e);if(u)for(r=(t=Ro(e,u)).next;!(n=E(r,t)).done;){if(i=(o=Ro(Be(n.value))).next,(a=E(i,o)).done||(s=E(i,o)).done||!E(i,o).done)throw Ws("Expected sequence with length 2");qs(this.entries,{key:Ct(a.value),value:Ct(s.value)})}else for(var c in e)ce(e,c)&&qs(this.entries,{key:c,value:Ct(e[c])})},parseQuery:function(e){if(e)for(var t,r,n=eu(e,"&"),o=0;o<n.length;)(t=n[o++]).length&&(r=eu(t,"="),qs(this.entries,{key:au(Ys(r)),value:au(Qs(r,"="))}))},serialize:function(){for(var e,t=this.entries,r=[],n=0;n<t.length;)e=t[n++],qs(r,fu(e.key)+"="+fu(e.value));return Qs(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var vu=function(){wi(this,hu);var e=arguments.length>0?arguments[0]:void 0;Ms(this,new pu(e))},hu=vu.prototype;if(hi(hu,{append:function(e,t){lu(arguments.length,2);var r=Ds(this);qs(r.entries,{key:Ct(e),value:Ct(t)}),r.updateURL()},delete:function(e){lu(arguments.length,1);for(var t=Ds(this),r=t.entries,n=Ct(e),o=0;o<r.length;)r[o].key===n?Zs(r,o,1):o++;t.updateURL()},get:function(e){lu(arguments.length,1);for(var t=Ds(this).entries,r=Ct(e),n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){lu(arguments.length,1);for(var t=Ds(this).entries,r=Ct(e),n=[],o=0;o<t.length;o++)t[o].key===r&&qs(n,t[o].value);return n},has:function(e){lu(arguments.length,1);for(var t=Ds(this).entries,r=Ct(e),n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){lu(arguments.length,1);for(var r,n=Ds(this),o=n.entries,i=!1,a=Ct(e),s=Ct(t),u=0;u<o.length;u++)(r=o[u]).key===a&&(i?Zs(o,u--,1):(i=!0,r.value=s));i||qs(o,{key:a,value:s}),n.updateURL()},sort:function(){var e=Ds(this);Cs(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,r=Ds(this).entries,n=De(e,arguments.length>1?arguments[1]:void 0),o=0;o<r.length;)n((t=r[o++]).value,t.key,this)},keys:function(){return new du(this,"keys")},values:function(){return new du(this,"values")},entries:function(){return new du(this,"entries")}},{enumerable:!0}),pr(hu,Ns,hu.entries,{name:"entries"}),pr(hu,"toString",(function(){return Ds(this).serialize()}),{enumerable:!0}),yr(vu,Ls),He({global:!0,forced:!As},{URLSearchParams:vu}),!As&&m($s)){var gu=g(Gs.has),mu=g(Gs.set),bu=function(e){if(j(e)){var t,r=e.body;if(st(r)===Ls)return t=e.headers?new $s(e.headers):new $s,gu(t,"content-type")||mu(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),rr(e,{body:S(0,Ct(r)),headers:S(0,t)})}return e};if(m(Us)&&He({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return Us(e,arguments.length>1?bu(arguments[1]):{})}}),m(Bs)){var wu=function(e){return wi(this,zs),new Bs(e,arguments.length>1?bu(arguments[1]):{})};zs.constructor=wu,wu.prototype=zs,He({global:!0,forced:!0},{Request:wu})}}var yu,Eu,xu=M.URLSearchParams,Iu={enabled:!1,initialize:function(){if(document&&document.body&&!this.enabled){this.enabled=!0,this.abbaPopout=document.createElement("div"),this.abbaPopout.setAttribute("style","all:unset;position:fixed;top:40px;left:0;width:300px;max-height:500px;overflow:auto;background-color:white;border:2px solid black;z-index:999999;overflow-wrap:break-word;font-family:monospace;font-size:11px"),document.body.appendChild(this.abbaPopout);var e=document.createElement("button");e.appendChild(document.createTextNode("Abba Debug - Click here to Show/Hide")),e.setAttribute("style","all:unset;position:fixed;top:0;left:0;height:20px;background-color:black;color:white;font-family:monospace;cursor:pointer;padding:2px;width:300px;font-size:13px;z-index:999999;"),e.onclick=function(){this.abbaPopout.style.display="none"===this.abbaPopout.style.display?"block":"none"}.bind(this);var t=document.createElement("button");t.appendChild(document.createTextNode("Click here to clear ABBA storage")),t.setAttribute("style","all:unset;position:fixed;top:20px;left:0;height:20px;background-color:white;color:black;font-family:monospace;cursor:pointer;border:2px inset black;width:300px;font-size:13px;z-index:999999;"),t.onclick=function(){Zu.clearAbbaStorage()},document.body.appendChild(t),document.body.appendChild(e)}},addMessage:function(e,t){if(this.enabled){var r=document.createElement("div"),n=document.createTextNode(e);"error"===t?r.setAttribute("style","background-color:red;color:white"):"info"===t&&r.setAttribute("style","background-color:blue;color:white"),r.appendChild(n),this.abbaPopout.appendChild(r)}}},ku={error:0,info:1,debug:2},Su=function(){window&&window.location&&window.location.search&&!Eu&&(yu=new xu(window.location.search),(Eu=yu.get("abbaLog"))&&Iu.initialize())},Ou=function(e,t){Ru("info",e,t)},Au=function(e,t){Ru("debug",e,t)},Tu=function(e,t){Ru("error",e,t)},Ru=function(){var e=Xa(ss.mark((function e(){var t,r,n,o,i,a=arguments;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.length>0&&void 0!==a[0]?a[0]:"info",r=a.length>1?a[1]:void 0,n=a.length>2?a[2]:void 0,Su(),Eu&&ku[Eu]>=ku[t]&&(console.log("[ABBA] ".concat(r),n),Iu.addMessage(ts(o=ts(i="[".concat(t.toUpperCase(),"] ")).call(i,r," ")).call(o,n?"(check console)":""),t));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_u=null,Pu=function(){if(null===_u)throw new Error("Bridge is not set.")},Cu="abbaTargets",Nu="abbaExperiments",Lu="abbaPreview",ju=function(){var e=Xa(ss.mark((function e(){var t,r;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pu(),e.next=3,_u.getItem(Cu);case 3:if(null==(t=e.sent)){e.next=8;break}return e.abrupt("return",t);case 8:return r={},e.next=11,_u.setItem(Cu,r);case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Mu=function(){var e=Xa(ss.mark((function e(){var t,r;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_u.getItem(Nu);case 2:if(null==(t=e.sent)){e.next=7;break}return e.abrupt("return",t);case 7:return r={},e.next=10,_u.setItem(Nu,r);case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Du=function(){var e=Xa(ss.mark((function e(t){var r;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ju();case 2:return r=e.sent,e.abrupt("return",r[t]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fu=function(){var e=Xa(ss.mark((function e(t){var r;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mu();case 2:return r=e.sent,e.abrupt("return",r[t]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Uu=function(){var e=Xa(ss.mark((function e(){var t,r;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pu(),null==(t=_u.getItem(Lu))){e.next=11;break}if(r=new Date(t.setAt),!(new Date-r>=18e5)){e.next=10;break}Ou("Preset preview has expired. Removing preview."),_u.setItem(Lu,"undefined"),e.next=11;break;case 10:return e.abrupt("return",t.config);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Bu=function(){var e=Xa(ss.mark((function e(t){return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pu(),Ou("Setting detected preview",t),e.next=4,_u.setItem(Lu,{config:t,setAt:(new Date).toISOString()});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$u=function(){var e=Xa(ss.mark((function e(t,r,n){var o,i,a;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ju();case 2:return i=e.sent,a=null===(o=i[t])||void 0===o?void 0:o.assignedDate,i[t]={experimentId:r,bucketId:n,assignedDate:null!=a?a:new Date},e.next=7,_u.setItem(Cu,i);case 7:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),zu=function(){var e=Xa(ss.mark((function e(t,r,n,o){var i,a,s;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mu();case 2:return(a=e.sent)[t]&&a[t].bucketId===r&&(s=a[t].assignedDate),a[t]={bucketId:r,assignedDate:null!==(i=s)&&void 0!==i?i:new Date,endTime:n,locked:o},e.next=7,_u.setItem(Nu,a);case 7:case"end":return e.stop()}}),e)})));return function(t,r,n,o){return e.apply(this,arguments)}}(),Gu=function(){var e=Xa(ss.mark((function e(t){var r;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ju();case 2:if(!(r=e.sent)[t]){e.next=7;break}return delete r[t],e.next=7,_u.setItem(Cu,r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Vu=function(){var e=Xa(ss.mark((function e(t){var r;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mu();case 2:if(!(r=e.sent)[t]){e.next=7;break}return delete r[t],e.next=7,_u.setItem(Nu,r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Wu=function(){var e=Xa(ss.mark((function e(t){var r,n,o;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.experiments&&t.experiments.length)){e.next=13;break}n=0;case 2:if(!(n<t.experiments.length)){e.next=13;break}return r=t.experiments[n],e.next=6,Fu(r.experimentId);case 6:if(!(o=e.sent)||o.endTime===r.endTime){e.next=10;break}return e.next=10,zu(r.experimentId,o.bucketId,r.endTime,r.locked);case 10:n++,e.next=2;break;case 13:return e.next=15,Xu(t);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xu=function(){var e=Xa(ss.mark((function e(t){var r,n,o,i,a,s;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mu();case 2:r=e.sent,n=hs(r),i=0;case 5:if(!(i<n.length)){e.next=23;break}if(o=n[i],a=r[o],s=new Date(a.endTime),e.t0=s<new Date,e.t0){e.next=14;break}return e.next=13,Hu(o,t);case 13:e.t0=!e.sent;case 14:if(!e.t0){e.next=20;break}if(null===a.bucketId){e.next=18;break}return e.next=18,Gu(t.targetId);case 18:return e.next=20,Vu(o);case 20:i++,e.next=5;break;case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Hu=function(){var e=Xa(ss.mark((function e(t,r){var n;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Du(r.targetId);case 2:if(!(n=e.sent)||n.experimentId!==t){e.next=6;break}if(Ku(t,r)){e.next=6;break}return e.abrupt("return",!1);case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Ku=function(e,t){var r;return!!Es(r=t.experiments).call(r,(function(t){return t.experimentId===e})).length},Qu=function(){var e=Xa(ss.mark((function e(t){return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.geoIP);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qu=function(){var e=Xa(ss.mark((function e(t){var r,n;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Du(t.targetId);case 2:if(!(r=e.sent)||!r.experimentId){e.next=9;break}return e.next=6,Fu(r.experimentId);case 6:if(!(n=e.sent)||!n.locked){e.next=9;break}return e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ju=function(){var e=Xa(ss.mark((function e(){return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pu(),e.abrupt("return",_u.getContentTags?_u.getContentTags():[]);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Yu=function(){var e=Xa(ss.mark((function e(){return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pu(),e.next=3,_u.setItem(Cu,{});case 3:return e.next=5,_u.setItem(Nu,{});case 5:Ou("Abba storage cleared. Refresh to be rebucketed.");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Zu={geoIP:Qu,checkBridge:Pu,setBridge:function(e){_u=e},getTargetPlacement:Du,setTargetPlacement:$u,removeTargetPlacement:Gu,getExperimentPlacement:Fu,setExperimentPlacement:zu,removeExperimentPlacement:Vu,updateExperimentEndTimes:Wu,lockedInExperiment:qu,getContentTags:Ju,getPreview:Uu,setPreview:Bu,clearAbbaStorage:Yu};function ec(e,t){var r=hs(e);if(gs){var n=gs(e);t&&(n=Es(n).call(n,(function(t){return ks(e,t).enumerable}))),r.push.apply(r,n)}return r}function tc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(r),!0).forEach((function(t){Ja(e,t,r[t])})):Ss?Object.defineProperties(e,Ss(r)):ec(Object(r)).forEach((function(t){Object.defineProperty(e,t,ks(r,t))}))}return e}var rc=function(){var e=Xa(ss.mark((function e(t){var r,n,o,i,a,s,u,c,f;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.experiments&&t.experiments.length){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,Zu.updateExperimentEndTimes(t);case 4:return e.next=6,Zu.getTargetPlacement(t.targetId);case 6:if(!(n=e.sent)){e.next=16;break}if(!(r=ps(o=t.experiments).call(o,(function(e){return e.experimentId===n.experimentId})))){e.next=13;break}return e.abrupt("return",nc(r,n.bucketId,t.config));case 13:return e.next=15,Zu.removeTargetPlacement(t.targetId);case 15:r=null;case 16:i=Math.random(),a=0,u=0;case 19:if(!(u<t.experiments.length)){e.next=40;break}return s=t.experiments[u],e.next=23,Zu.getExperimentPlacement(s.experimentId);case 23:if(!(c=e.sent)||null!==c.bucketId){e.next=29;break}return a+=s.population,e.abrupt("continue",37);case 29:if(!c||null===c.bucketId){e.next=31;break}return e.abrupt("return",nc(s,c.bucketId,t.config));case 31:if(!(i>=a&&i<a+s.population)){e.next=34;break}return r=s,e.abrupt("break",40);case 34:return e.next=36,Zu.setExperimentPlacement(s.experimentId,null,s.endTime,s.locked);case 36:a+=s.population;case 37:u++,e.next=19;break;case 40:if(r){e.next=42;break}return e.abrupt("return",!1);case 42:return f=nc(r,null,t.config),e.next=45,Zu.setExperimentPlacement(f.experimentId,f.bucketId,r.endTime,r.locked);case 45:return e.next=47,Zu.setTargetPlacement(t.targetId,f.experimentId,f.bucketId);case 47:return Ou("Selected bucket:",f),e.abrupt("return",f);case 49:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nc=function(e,t,r){var n,o;null!==t?n=ps(o=e.buckets).call(o,(function(e){return e.bucketId===t})):n=oc(e);return{experimentId:e.experimentId,bucketId:n.bucketId,endTime:e.endTime,config:tc(tc({},r),n.config),buckets:e.buckets}},oc=function(e){var t=Math.floor(Math.random()*e.buckets.length);return e.buckets[t]},ic="abbaPreview",ac="mockUserInfo",sc="mockContextInfo",uc="mockTagsInfo",cc="mockUrlInfo",fc="mockContentMetadata";function lc(e,t){var r=hs(e);if(gs){var n=gs(e);t&&(n=Es(n).call(n,(function(t){return ks(e,t).enumerable}))),r.push.apply(r,n)}return r}function dc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lc(Object(r),!0).forEach((function(t){Ja(e,t,r[t])})):Ss?Object.defineProperties(e,Ss(r)):lc(Object(r)).forEach((function(t){Object.defineProperty(e,t,ks(r,t))}))}return e}var pc=function(e){try{return null!==new xu(window.location.search).get(e)}catch(e){return!1}},vc=function(){var e=Xa(ss.mark((function e(){return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!!Zu.getPreview());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),hc=function(){var e=Xa(ss.mark((function e(t){var r,n,o;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!pc(ic)){e.next=9;break}return r=new xu(window.location.search),n=JSON.parse(r.get(ic)),e.next=5,Zu.setPreview(n);case 5:return Ou("Preview param detected and applying",n),e.abrupt("return",dc(dc({},t),n));case 9:if(!vc()){e.next=17;break}return e.next=12,Zu.getPreview();case 12:return o=e.sent,Ou("Saved preview detected and applying",o),e.abrupt("return",dc(dc({},t),o));case 17:return Au("No preview detected."),e.abrupt("return",t);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gc=function(e){if(!pc(e))return Au("No mock info detected for key: ".concat(e)),null;var t=new xu(window.location.search),r=JSON.parse(decodeURIComponent(t.get(e)));return Ou("Found and applying mock info",r),r},mc=b((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})),bc=Object.isExtensible,wc=b((function(){bc(1)}))||mc?function(e){return!!j(e)&&((!mc||"ArrayBuffer"!=T(e))&&(!bc||bc(e)))}:bc,yc=!b((function(){return Object.isExtensible(Object.preventExtensions({}))})),Ec=r((function(e){var t=Ge.f,r=!1,n=pe("meta"),o=0,i=function(e){t(e,n,{value:{objectID:"O"+o++,weakData:{}}})},a=e.exports={enable:function(){a.enable=function(){},r=!0;var e=or.f,t=g([].splice),o={};o[n]=1,e(o).length&&(or.f=function(r){for(var o=e(r),i=0,a=o.length;i<a;i++)if(o[i]===n){t(o,i,1);break}return o},He({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:fr.f}))},fastKey:function(e,t){if(!j(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!ce(e,n)){if(!wc(e))return"F";if(!t)return"E";i(e)}return e[n].objectID},getWeakData:function(e,t){if(!ce(e,n)){if(!wc(e))return!0;if(!t)return!1;i(e)}return e[n].weakData},onFreeze:function(e){return yc&&r&&wc(e)&&!ce(e,n)&&i(e),e}};Ft[n]=!0})),xc=Ge.f,Ic=Lr.forEach,kc=Pr.set,Sc=Pr.getterFor,Oc=Ge.f,Ac=Ec.fastKey,Tc=Pr.set,Rc=Pr.getterFor;!function(e,t,r){var n,o=-1!==e.indexOf("Map"),i=-1!==e.indexOf("Weak"),s=o?"set":"add",u=a[e],c=u&&u.prototype,f={};if(w&&m(u)&&(i||c.forEach&&!b((function(){(new u).entries().next()})))){var l=(n=t((function(t,r){kc(wi(t,l),{type:e,collection:new u}),null!=r&&ri(r,t[s],{that:t,AS_ENTRIES:o})}))).prototype,d=Sc(e);Ic(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(e){var t="add"==e||"set"==e;!(e in c)||i&&"clear"==e||Ve(l,e,(function(r,n){var o=d(this).collection;if(!t&&i&&!j(r))return"get"==e&&void 0;var a=o[e](0===r?0:r,n);return t?this:a}))})),i||xc(l,"size",{configurable:!0,get:function(){return d(this).collection.size}})}else n=r.getConstructor(t,e,o,s),Ec.enable();yr(n,e,!1,!0),f[e]=n,He({global:!0,forced:!0},f),i||r.setStrong(n,e,o)}("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(e,t,r,n){var o=e((function(e,o){wi(e,i),Tc(e,{type:t,index:rr(null),first:void 0,last:void 0,size:0}),w||(e.size=0),null!=o&&ri(o,e[n],{that:e,AS_ENTRIES:r})})),i=o.prototype,a=Rc(t),s=function(e,t,r){var n,o,i=a(e),s=u(e,t);return s?s.value=r:(i.last=s={index:o=Ac(t,!0),key:t,value:r,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=s),n&&(n.next=s),w?i.size++:e.size++,"F"!==o&&(i.index[o]=s)),e},u=function(e,t){var r,n=a(e),o=Ac(t);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key==t)return r};return hi(i,{clear:function(){for(var e=a(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,w?e.size=0:this.size=0},delete:function(e){var t=this,r=a(t),n=u(t,e);if(n){var o=n.next,i=n.previous;delete r.index[n.index],n.removed=!0,i&&(i.next=o),o&&(o.previous=i),r.first==n&&(r.first=o),r.last==n&&(r.last=i),w?r.size--:t.size--}return!!n},forEach:function(e){for(var t,r=a(this),n=De(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:r.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!u(this,e)}}),hi(i,r?{get:function(e){var t=u(this,e);return t&&t.value},set:function(e,t){return s(this,0===e?0:e,t)}}:{add:function(e){return s(this,e=0===e?0:e,e)}}),w&&Oc(i,"size",{get:function(){return a(this).size}}),o},setStrong:function(e,t,r){var n=t+" Iterator",o=Rc(t),i=Rc(n);Xn(e,t,(function(e,t){Tc(this,{type:n,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),mi(t)}});var _c=M.Set,Pc=Do;function Cc(e,t){var r=hs(e);if(gs){var n=gs(e);t&&(n=Es(n).call(n,(function(t){return ks(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cc(Object(r),!0).forEach((function(t){Ja(e,t,r[t])})):Ss?Object.defineProperties(e,Ss(r)):Cc(Object(r)).forEach((function(t){Object.defineProperty(e,t,ks(r,t))}))}return e}var Lc=function(){function e(){Ha(this,e),this.config={},this.tracking={targets:new _c,experiments:new _c,sources:{}},this.reserveKeys=new _c}return qa(e,[{key:"addTargetConfig",value:function(e,t,r){var n=this,o=hs(e),i=Es(o).call(o,(function(e){return n.reserveKeys.has(e)}));return i.length?(Au("Tried to add target config for ".concat(t," but some keys already existed"),{targetConfig:e,overlapKeys:i}),!1):(as(this.config,e),o.forEach((function(e){n.reserveKeys.add(e),n.tracking.sources[e]={targetId:t,experimentId:null,bucketId:null,assignedDate:r.assignedDate,assignedEndDate:null}})),this.tracking.targets.add(t),!0)}},{key:"addExperimentConfig",value:function(e,t,r,n){var o,i,a=this,s=hs(e),u=t.split(".")[0],c=t.split(".")[1].split("=")[0],f=t.split("=")[1],l=Es(s).call(s,(function(e){return a.reserveKeys.has(e)}));return l.length?(Au(ts(o=ts(i="Tried to add experiment config for targetId ".concat(u,", experimentId ")).call(i,c," bucketId ")).call(o,f," but some keys already existed"),{experimentConfig:e,overlapKeys:l}),!1):(as(this.config,e),s.forEach((function(e){a.reserveKeys.add(e)})),s.forEach((function(e){a.tracking.sources[e]={targetId:u,experimentId:c,bucketId:f,assignedDate:n.assignedDate,assignedEndDate:r}})),this.tracking.targets.add(u),this.tracking.experiments.add(t),!0)}},{key:"getConfig",value:function(){return Nc(Nc({},this.config),this.formatTracking())}},{key:"formatTracking",value:function(){return{tracking:{targets:Pc(this.tracking.targets).join(","),experiment:Pc(this.tracking.experiments).join(","),sources:this.tracking.sources}}}}]),e}();He({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991});var jc=k.f,Mc=g(jc),Dc=g([].push),Fc=function(e){return function(t){for(var r,n=L(t),o=Gt(n),i=o.length,a=0,s=[];i>a;)r=o[a++],w&&!Mc(n,r)||Dc(s,e?[r,n[r]]:n[r]);return s}},Uc={entries:Fc(!0),values:Fc(!1)}.entries;He({target:"Object",stat:!0},{entries:function(e){return Uc(e)}});var Bc=M.Object.entries,$c=Lr.map,zc=xt("map");He({target:"Array",proto:!0,forced:!zc},{map:function(e){return $c(this,e,arguments.length>1?arguments[1]:void 0)}});var Gc=bo("Array").map,Vc=Array.prototype,Wc=function(e){var t=e.map;return e===Vc||U(Vc,e)&&t===Vc.map?Gc:t};function Xc(e,t){var r=hs(e);if(gs){var n=gs(e);t&&(n=Es(n).call(n,(function(t){return ks(e,t).enumerable}))),r.push.apply(r,n)}return r}var Hc={Author:!0,City:!0,Classification:!0,Commodity:!0,Company:!0,Country:!0,Currency:!0,Dataarticle:!0,Event:!0,Feature:!0,Fund:!0,Index:!0,Interactive:!0,Location:!0,Organization:!0,Person:!0,Region:!0,Series:!0,Slideshow:!0,Story:!0,Topic:!0,Video:!0,Storythread:!0},Kc={deviceInfo:"metadata.paywall.device",referrerSource:"metadata.paywall.referrer",consent:"metadata.consent"};function Qc(e){var t,r=e.baseUrl;return ts(t="".concat(r,"?")).call(t,function(e){var t=function(e){var t=e.id,r=e.contentType;if(void 0!==t&&Object.prototype.hasOwnProperty.call(Hc,r)){var n;return{currentResource:ts(n="".concat(r,"|")).call(n,t)}}}(e),r=qc(e);return n=as({},t,{deviceInfo:r},{consent:e.personalizationAllowed},{referrerSource:e.referrerSource},{limit:null!==e.limit?100:null},function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xc(Object(r),!0).forEach((function(t){Ja(e,t,r[t])})):Ss?Object.defineProperties(e,Ss(r)):Xc(Object(r)).forEach((function(t){Object.defineProperty(e,t,ks(r,t))}))}return e}({},null==e?void 0:e.coordinatorQueryParams)),Wc(o=Es(i=hs(n)).call(i,(function(e){var t=n[e];return!(null==t||""===t)}))).call(o,(function(e){var t,r=n[e],o=void 0===Kc[e]?encodeURIComponent(e):encodeURIComponent(Kc[e]),i=encodeURIComponent(r);return ts(t="".concat(o,"=")).call(t,i)})).join("&");var n,o,i}(e))}function qc(e){var t,r;if(e.deviceInfo)return ts(t=ts(r="".concat(e.deviceInfo.platform,"|")).call(r,e.deviceInfo.OS,"|")).call(t,e.deviceInfo.browserName)}var Jc,Yc,Zc=Eo,ef=B.match(/firefox\/(\d+)/i),tf=!!ef&&+ef[1],rf=/MSIE|Trident/.test(B),nf=B.match(/AppleWebKit\/(\d+)\./),of=!!nf&&+nf[1],af=[],sf=g(af.sort),uf=g(af.push),cf=b((function(){af.sort(void 0)})),ff=b((function(){af.sort(null)})),lf=!!(Yc=[]["sort"])&&b((function(){Yc.call(null,Jc||function(){throw 1},1)})),df=!b((function(){if(W)return W<70;if(!(tf&&tf>3)){if(rf)return!0;if(of)return of<603;var e,t,r,n,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)af.push({k:t+n,v:r})}for(af.sort((function(e,t){return t.v-e.v})),n=0;n<af.length;n++)t=af[n].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}}));He({target:"Array",proto:!0,forced:cf||!ff||!lf||!df},{sort:function(e){void 0!==e&&Z(e);var t=se(this);if(df)return void 0===e?sf(t):sf(t,e);var r,n,o=[],i=et(t);for(n=0;n<i;n++)n in t&&uf(o,t[n]);for(Cs(o,function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:Ct(t)>Ct(r)?1:-1}}(e)),r=o.length,n=0;n<r;)t[n]=o[n++];for(;n<i;)delete t[n++];return t}});var pf=bo("Array").sort,vf=Array.prototype,hf=function(e){var t=e.sort;return e===vf||U(vf,e)&&t===vf.sort?pf:t},gf=a.Array,mf=F("JSON","stringify"),bf=g(/./.exec),wf=g("".charAt),yf=g("".charCodeAt),Ef=g("".replace),xf=g(1..toString),If=/[\uD800-\uDFFF]/g,kf=/^[\uD800-\uDBFF]$/,Sf=/^[\uDC00-\uDFFF]$/,Of=function(e,t,r){var n=wf(r,t-1),o=wf(r,t+1);return bf(kf,e)&&!bf(Sf,o)||bf(Sf,e)&&!bf(kf,n)?"\\u"+xf(yf(e,0),16):e},Af=b((function(){return'"\\udf06\\ud834"'!==mf("\udf06\ud834")||'"\\udead"'!==mf("\udead")}));mf&&He({target:"JSON",stat:!0,forced:Af},{stringify:function(e,t,r){for(var n=0,o=arguments.length,i=gf(o);n<o;n++)i[n]=arguments[n];var a=l(mf,null,i);return"string"==typeof a?Ef(a,If,Of):a}}),M.JSON||(M.JSON={stringify:JSON.stringify});var Tf=function(e,t,r){return l(M.JSON.stringify,null,arguments)},Rf=20,_f=1,Pf=.25;function Cf(e,t){var r;if(Object.prototype.hasOwnProperty.call(e,"assetType")&&Object.prototype.hasOwnProperty.call(e,"assetID")&&(e.statsInfo&&e.statsInfo["1y"]&&(r=e.statsInfo["1y"].score),r))return{id:e.assetID,derivedScore:r*t,type:e.assetType}}var Nf={Person:3,Company:3,Index:1,Topic:2,Commodity:1.5,City:2,Fund:1,Organization:1,Country:2,Currency:2,Region:3,Classification:2,Location:1,Event:1},Lf={Bond:!0,City:!0,Classification:!0,Commodity:!0,Company:!0,Country:!0,Currency:!0,Event:!0,Fund:!0,Index:!0,Location:!0,Organization:!0,Person:!0,Region:!0,Topic:!0},jf={Person:"People",Company:"Tickers",Index:"Indexes",Topic:"Topics",Resourcetype:"Resourcetypes"};function Mf(e){return Es(e).call(e,(function(e){var t=e.type;return Object.prototype.hasOwnProperty.call(Lf,t)}))}function Df(e){return Es(e).call(e,(function(e){var t=e.type;return e.derivedScore>=Nf[t]}))}function Ff(e){return Wc(e).call(e,(function(e){var t=e.derivedScore,r=e.type;return void 0===t&&(t=Nf[r]||0),as({},e,{derivedScore:t})}))}function Uf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rf;return sl(e,t)}function Bf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_f;return sl(e,t)}function $f(e){return hs(e).forEach((function(t){e[t]=e[t].join(",")})),e}function zf(e){return e.reduce((function(e,t){var r=t.id,n=t.type;return e[n]=e[n]||[],e[n].push(r),e}),{})}function Gf(e){return hs(e).reduce((function(t,r){return t[function(e){return jf[e]||e}(r)]=e[r],t}),{})}function Vf(e){var t,r=e.type,n=e.id;return ts(t="".concat(r,"|")).call(t,n)}function Wf(e){var t,r=e.reduce((function(e,t){return Object.prototype.hasOwnProperty.call(e,t.type)?e[t.type]+=t.derivedScore:e[t.type]=t.derivedScore,e}),{});return Wc(t=hs(r)).call(t,(function(e){return{id:e,type:"contextTagTypes",derivedScore:r[e]}}))}var Xf=20,Hf=0;function Kf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xf;return sl(e,t)}var Qf=1,qf=.25,Jf={Commodity:"Quote",Company:"Quote",Currency:"Quote",Dataarticle:"Story",Feature:"Story",Fund:"Quote",Index:"Quote",Interactive:"Story",Quicktake:"Story",Slideshow:"Story",Story:"Story",Video:"Video",Storythread:"Storythread"};function Yf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qf;return sl(e,t)}var Zf={"m.facebook.com":"FACEBOOK","www.facebook.com":"FACEBOOK","lm.facebook.com":"FACEBOOK","l.facebook.com":"FACEBOOK","t.co":"TWITTER","www.twitter.com":"TWITTER","www.linkedin.com":"LINKEDIN","lnkd.in":"LINKEDIN","touch.www.linkedin.com":"LINKEDIN","plus.url.google.com":"GOOGLE_PLUS","www.reddit.com":"REDDIT","www.bloomberg.com":"BLOOMBERG"},el=/https?:\/\/([^ /]+)/;var tl,rl={deepestPaywallStage:"ua_dps"};function nl(e){var t,r,n=e.userInfo,o=void 0===n?{}:n,i=e.contextInfo,a=(i=void 0===i?{}:i).referrer,s=ol(e),u=s.contextTagsTypeMap,c=s.preferredTagsTypeMap,f=s.preferredResourceTypesMap,l=s.cumulativeScoredContentTagsMap,d=il(u,[Gf,$f]),p=il(l,[Gf,$f]),v=il(as({},c,f),[Gf,$f]),h=as({},al(d,"context"),al(v,"preferred"),p),g=a?{referrer:(t=a,r=el.exec(t),null===r||""===r?t:Zf[r[1]]||r[1])}:{},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};null===e&&(e={});var t=e.Metadata,r=(t=void 0===t?{}:t).attribute,n=void 0===r?{}:r;return hs(n).reduce((function(e,t){var r=rl[t];return r&&(e[r]=n[t]),e}),{})}(o);return as({},g,h,m)}function ol(e){var t=e.userInfo,r=e.contextInfo;t=t||{};var n=(void 0===r?{}:r).contentTags,o=void 0===n?[]:n,i=il(o,[Mf,Ff,Df]),a=il(i,[Uf,zf]),s=il(o,[Wf,Bf,zf]);return{contextTagsTypeMap:a,preferredTagsTypeMap:il(function(e){var t=e.contextTags,r=e.preferredTags,n=JSON.parse(Tf(t)),o={};n.forEach((function(e){var t=Vf(e);o[t]=e}));var i=[];return r.forEach((function(e){var t=Vf(e);Object.prototype.hasOwnProperty.call(o,t)?o[t].derivedScore+=e.derivedScore:i.push(e)})),ts(n).call(n,i)}({contextTags:i,preferredTags:function(e){var t=[],r=e.Tag,n=(r=void 0===r?{}:r).Confidence,o=void 0===n?0:n,i=r.Preferences,a=void 0===i?{}:i;return o<Pf||hs(Lf).forEach((function(e){var r=a[e];Array.isArray(r)&&r.forEach((function(e){var r=Cf(e,o);r&&t.push(r)}))})),t}(t)}),[Uf,zf]),preferredAuthorsMap:il(function(e){var t=[],r=e.Author,n=(r=void 0===r?{}:r).Confidence,o=void 0===n?0:n,i=r.Preferences,a=void 0===i?[]:i;return o<Hf?t:Array.isArray(a)?(a.forEach((function(e){var r=Cf(e,o);r&&t.push(r)})),t):t}(t),[Kf,zf]),preferredResourceTypesMap:il(function(e){var t,r=[],n={},o=e.Resourcetype,i=(o=void 0===o?{}:o).Confidence,a=void 0===i?0:i,s=o.Preferences,u=void 0===s?[]:s;return a<qf?r:Array.isArray(u)?(u.forEach((function(e){if(Object.prototype.hasOwnProperty.call(e,"assetType")){var t,r=Jf[e.assetType];r&&(e.statsInfo&&e.statsInfo["1y"]&&(t=e.statsInfo["1y"].score),n[r]=(n[r]||0)+t)}})),r=Wc(t=hs(n)).call(t,(function(e){return{id:e,type:"Resourcetype",derivedScore:n[e]}}))):r}(t),[Yf,zf]),cumulativeScoredContentTagsMap:s}}function il(e,t){return t.reduce((function(e,t){return t(e)}),e)}function al(e,t){var r={};for(var n in e){if(e[n])r[t+n]=e[n]}return r}function sl(e,t){var r,n;return void 0===t||t<=0?[]:Zc(r=hf(n=Zc(e).call(e)).call(n,(function(e,t){return e.derivedScore<t.derivedScore?-1:e.derivedScore>t.derivedScore?1:0}))).call(r,-t).reverse()}var ul=Wc(tl=["com","co.jp","co.uk","es","ca","de","it","fr","com.au","com.br","com.gr","co.in","co.id","com.mx","dk","com.ar","ch","cl","at","co.kr","ie","com.co","pl","pt","com.pk"]).call(tl,(function(e){return"www.google.".concat(e)})),cl=["","us","ca","uk","in","au","nl","nz","sg","de","es","ln","fr"],fl=function(e){return Es(e).call(e,(function(e){return e})).join(".")},ll=Wc(cl).call(cl,(function(e){return fl([e,"search.yahoo.com"])})),dl=Wc(cl).call(cl,(function(e){return fl([e,"video.search.yahoo.com"])})),pl={"drudgereport.com":"DRUDGEREPORT","www.drudgereport.com":"DRUDGEREPORT","m.facebook.com":"FACEBOOK","www.facebook.com":"FACEBOOK","lm.facebook.com":"FACEBOOK","l.facebook.com":"FACEBOOK","t.co":"TWITTER","www.twitter.com":"TWITTER","www.linkedin.com":"LINKEDIN","lnkd.in":"LINKEDIN","touch.www.linkedin.com":"LINKEDIN","plus.url.google.com":"GOOGLE_PLUS","www.reddit.com":"REDDIT","www.bing.com":"BING_SEARCH","bing.com":"BING_SEARCH"};ul.forEach((function(e){return pl[e]="GOOGLE_SEARCH"})),dl.forEach((function(e){return pl[e]="YAHOO_SEARCH"})),ll.forEach((function(e){return pl[e]="YAHOO_SEARCH"}));var vl={INTERNAL_WEB:"INTERNAL",INTERNAL_MOBILE:"INTERNAL",FACEBOOK:"SOCIAL",LINKEDIN:"SOCIAL",TWITTER:"SOCIAL",GOOGLE_PLUS:"SOCIAL",REDDIT:"SOCIAL",DRUDGEREPORT:"NEWS_PORTALS",GOOGLE_SEARCH:"SEARCH",BING_SEARCH:"SEARCH",YAHOO_SEARCH:"SEARCH",OTHERS:"OTHERS"},hl="INTERNAL_WEB",gl="INTERNAL_MOBILE",ml="GOOGLE_SEARCH",bl="OTHERS",wl=function(e){var t=Il(e);if(null!==t)return t;var r=xl(e);if(null===r)return bl;if(yl(r)||El(r))return ml;var n=r.host,o=pl[n];return o||(o=bl),o},yl=function(e){var t=e.pathname,r=e.hostname;return t&&0===t.indexOf("//com.google.android.googlequicksearchbox")&&"android-app"===r},El=function(e){var t=e.pathname,r=e.hostname;return t&&0===t.indexOf("/auth/chrome-content-suggestions")&&"googleapis.com"===r},xl=function(t){var r=null,n=RegExp("^(http|https)://.*$");if(t&&t.length>0){var o=decodeURI(t);o=kl(o),o=n.test(o)?o:"http://".concat(o),r=new e.URL(o)}return r},Il=function(e){var t=null;if(e&&e.length>0){var r=kl(e);-1!==r.indexOf(".bloomberg.com")&&(t=hl),-1!==r.indexOf("mobile://")&&(t=gl)}return t},kl=function(e){return e.split("\\?",2)[0]},Sl=function(e,t){if(t){var r="Direct",n=t.get("utm_source")||e,o=t.get("utm_medium")||"",i=["google","bing","yahoo"],a=ts(i).call(i,["duckduckgo"]),s=["offer","nurture"],u=/.*newsletter.*/;try{if("display"===o)return"Display";if("webpush"===n)return"Web_Push";if(-1!==a.indexOf(n))return"cpc"===o?"Paid_Search":"Organic_Search";if(-1===i.indexOf(n)&&"cpc"===o)return"Paid_Social";var c=s.indexOf(n);if(-1===c&&"email"===o||u.test(n)||u.test(o))return"Newsletter";if(-1!==c&&"email"===o){var f,l=s[c];return ts(f="Email_".concat(l.charAt(0).toUpperCase())).call(f,Zc(l).call(l,1))}if(new RegExp(["fb","t.co",".*facebook.*",".*twitter.*",".*instagram.*",".*likeshop.*",".*reddit.*",".*linkedin.*",".*snapchat.*"].join("|"),"i").test(n)&&"cpc"!==o)return"Organic_Social";if(""!==n)return"Referral"}catch(e){r="Direct"}return r}};var Ol={v1:function(e,t,r){var n={};try{e.forEach((function(e){var o="/"===e.charAt(0)?e:"/".concat(e);if(void 0!==r[o]&&void 0!==r[o][t]){var i=r[o][t];hs(i).forEach((function(e){var i=r[o][t][e];Object.prototype.hasOwnProperty.call(n,e)?n[e]=Math.max(n[e],i[0]/i[1]):n[e]=i[0]/i[1]}))}}))}catch(e){n={}}return{values:n}}},Al="contentMetadata",Tl="mostRecentResource",Rl="coordinatorServiceData",_l=/(local\.bloomberg\.com)|(localhost)/,Pl=/abba-client/,Cl=/4321/,Nl=/(origin\.(?!(www)).*|.*-stg.*|.*stg-.*|.*\.cm.*)\.bloomberg\.(com|co\.[a-zA-Z]{2})/,Ll=/origin\.blue\.bloomberg\.com/;function jl(){var e,t,r=null===(e=window)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.host;return(_l.test(r)||Nl.test(r))&&!Ll.test(r)}var Ml={STR_FILE_URL:"https://assets.bwbx.io/s3/mediaservices/superelastic/data.json",COORDINATOR_SERVICE_URL:jl()?"https://coordinator-stg.cm.bloomberg.com/coordination":"https://coordinator.cm.bloomberg.com/coordination",ABBA_FEED_S3_URL_BASE:function(){var e,t,r,n,o,i,a=null===(e=window)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.host,s=null===(r=window)||void 0===r||null===(n=r.location)||void 0===n?void 0:n.pathname,u=null===(o=window)||void 0===o||null===(i=o.location)||void 0===i?void 0:i.port;return _l.test(a)&&Pl.test(s)||_l.test(a)&&Cl.test(u)}()?"http://local.bloomberg.com:3400/feed":jl()?"https://d3jh429r6zmxbc.cloudfront.net/s3/abba/feed":"https://assets.bwbx.io/s3/abba/feed"},Dl=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(1),i=r(3),a=i.BROWSER_TYPES,s=i.OS_TYPES,u=i.DEVICE_TYPES,c=i.defaultData,f=new o,l=f.getBrowser(),d=f.getDevice(),p=f.getEngine(),v=f.getOS(),h=f.getUA(),g=a.CHROME,m=a.CHROMIUM,b=a.IE,w=a.INTERNET_EXPLORER,y=a.OPERA,E=a.FIREFOX,x=a.SAFARI,I=a.EDGE,k=a.YANDEX,S=a.MOBILE_SAFARI,O=u.MOBILE,A=u.TABLET,T=u.SMART_TV,R=u.BROWSER,_=u.WEARABLE,P=u.CONSOLE,C=s.ANDROID,N=s.WINDOWS_PHONE,L=s.IOS,j=function(e,t,r,o){return n({},e,{vendor:t.vendor,model:t.model,os:r.name,osVersion:r.version,ua:o})},M=d.type===T,D=d.type===P,F=d.type===_,U=l.name===S,B=l.name===m,$=function(){switch(d.type){case O:case A:return!0;default:return!1}}(),z=d.type===O,G=d.type===A,V=d.type===R,W=v.name===C,X=v.name===N,H=v.name===L,K=l.name===g,Q=l.name===E,q=l.name===x||l.name===S,J=l.name===y,Y=l.name===w||l.name===b,Z=v.version?v.version:"none",ee=v.name?v.name:"none",te=l.major,re=l.version,ne=l.name,oe=d.vendor?d.vendor:"none",ie=d.model?d.model:"none",ae=p.name,se=p.version,ue=h,ce=l.name===I,fe=l.name===k,le=d.type,de=function(e){switch(e){case O:return{isMobile:!0};case A:return{isTablet:!0};case T:return{isSmartTV:!0};case P:return{isConsole:!0};case _:return{isWearable:!0};case R:return{isBrowser:!0};default:return c}}(d.type);e.exports={deviceDetect:function(){var e=de.isBrowser,t=de.isMobile,r=de.isTablet,n=de.isSmartTV,o=de.isConsole,i=de.isWearable;return e?function(e,t,r,n,o){return{isBrowser:e,browserMajorVersion:t.major,browserFullVersion:t.version,browserName:t.name,engineName:r.name||!1,engineVersion:r.version,osName:n.name,osVersion:n.version,userAgent:o}}(e,l,p,v,h):n?function(e,t,r,n){return{isSmartTV:e,engineName:t.name,engineVersion:t.version,osName:r.name,osVersion:r.version,userAgent:n}}(n,p,v,h):o?function(e,t,r,n){return{isConsole:e,engineName:t.name,engineVersion:t.version,osName:r.name,osVersion:r.version,userAgent:n}}(o,p,v,h):t||r?j(de,d,v,h):i?function(e,t,r,n){return{isWearable:e,engineName:t.name,engineVersion:t.version,osName:r.name,osVersion:r.version,userAgent:n}}(i,p,v,h):void 0},isSmartTV:M,isConsole:D,isWearable:F,isMobileSafari:U,isChromium:B,isMobile:$,isMobileOnly:z,isTablet:G,isBrowser:V,isAndroid:W,isWinPhone:X,isIOS:H,isChrome:K,isFirefox:Q,isSafari:q,isOpera:J,isIE:Y,osVersion:Z,osName:ee,fullBrowserVersion:te,browserVersion:re,browserName:ne,mobileVendor:oe,mobileModel:ie,engineName:ae,engineVersion:se,getUA:ue,isEdge:ce,isYandex:fe,deviceType:le}},function(e,t,r){var n;
/*!
	 * UAParser.js v0.7.18
	 * Lightweight JavaScript-based User-Agent string parser
	 * https://github.com/faisalman/ua-parser-js
	 *
	 * Copyright © 2012-2016 Faisal Salman <fyzlman@gmail.com>
	 * Dual licensed under GPLv2 or MIT
	 */!function(o,i){var a="function",s="undefined",u="object",c="model",f="name",l="type",d="vendor",p="version",v="architecture",h="console",g="mobile",m="tablet",b="smarttv",w="wearable",y={extend:function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:i},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},E={rgx:function(e,t){for(var r,n,o,s,c,f,l=0;l<t.length&&!c;){var d=t[l],p=t[l+1];for(r=n=0;r<d.length&&!c;)if(c=d[r++].exec(e))for(o=0;o<p.length;o++)f=c[++n],typeof(s=p[o])===u&&s.length>0?2==s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,f):this[s[0]]=s[1]:3==s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=f?f.replace(s[1],s[2]):i:this[s[0]]=f?s[1].call(this,f,s[2]):i:4==s.length&&(this[s[0]]=f?s[3].call(this,f.replace(s[1],s[2])):i):this[s]=f||i;l+=2}},str:function(e,t){for(var r in t)if(typeof t[r]===u&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(y.has(t[r][n],e))return"?"===r?i:r}else if(y.has(t[r],e))return"?"===r?i:r;return e}},x={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},I={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[f,p],[/(opios)[\/\s]+([\w\.]+)/i],[[f,"Opera Mini"],p],[/\s(opr)\/([\w\.]+)/i],[[f,"Opera"],p],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i],[f,p],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[f,"IE"],p],[/(edge|edgios|edgea)\/((\d+)?[\w\.]+)/i],[[f,"Edge"],p],[/(yabrowser)\/([\w\.]+)/i],[[f,"Yandex"],p],[/(puffin)\/([\w\.]+)/i],[[f,"Puffin"],p],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[f,"UCBrowser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],p],[/(micromessenger)\/([\w\.]+)/i],[[f,"WeChat"],p],[/(qqbrowserlite)\/([\w\.]+)/i],[f,p],[/(QQ)\/([\d\.]+)/i],[f,p],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[f,p],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[f,p],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[f,p],[/(MetaSr)[\/\s]?([\w\.]+)/i],[f],[/(LBBROWSER)/i],[f],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[p,[f,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[p,[f,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[p,[f,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[f,/(.+)/,"$1 WebView"],p],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[f,/(.+(?:g|us))(.+)/,"$1 $2"],p],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[p,[f,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[f,p],[/(dolfin)\/([\w\.]+)/i],[[f,"Dolphin"],p],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[f,"Chrome"],p],[/(coast)\/([\w\.]+)/i],[[f,"Opera Coast"],p],[/fxios\/([\w\.-]+)/i],[p,[f,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[p,[f,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[p,f],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[f,"GSA"],p],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[f,[p,E.str,x.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[f,p],[/(navigator|netscape)\/([\w\.-]+)/i],[[f,"Netscape"],p],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[f,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,y.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[v,/ower/,"",y.lowerize]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[v,y.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[c,d,[l,m]],[/applecoremedia\/[\w\.]+ \((ipad)/],[c,[d,"Apple"],[l,m]],[/(apple\s{0,1}tv)/i],[[c,"Apple TV"],[d,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[d,c,[l,m]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[c,[d,"Amazon"],[l,m]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[c,E.str,x.device.amazon.model],[d,"Amazon"],[l,g]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[c,d,[l,g]],[/\((ip[honed|\s\w*]+);/i],[c,[d,"Apple"],[l,g]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[d,c,[l,g]],[/\(bb10;\s(\w+)/i],[c,[d,"BlackBerry"],[l,g]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[c,[d,"Asus"],[l,m]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[d,"Sony"],[c,"Xperia Tablet"],[l,m]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[c,[d,"Sony"],[l,g]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[d,c,[l,h]],[/android.+;\s(shield)\sbuild/i],[c,[d,"Nvidia"],[l,h]],[/(playstation\s[34portablevi]+)/i],[c,[d,"Sony"],[l,h]],[/(sprint\s(\w+))/i],[[d,E.str,x.device.sprint.vendor],[c,E.str,x.device.sprint.model],[l,g]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[d,c,[l,m]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[d,[c,/_/g," "],[l,g]],[/(nexus\s9)/i],[c,[d,"HTC"],[l,m]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[c,[d,"Huawei"],[l,g]],[/(microsoft);\s(lumia[\s\w]+)/i],[d,c,[l,g]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[c,[d,"Microsoft"],[l,h]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[d,"Microsoft"],[l,g]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[c,[d,"Motorola"],[l,g]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[c,[d,"Motorola"],[l,m]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[d,y.trim],[c,y.trim],[l,b]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[d,"Samsung"],[l,b]],[/\(dtv[\);].+(aquos)/i],[c,[d,"Sharp"],[l,b]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[d,"Samsung"],c,[l,m]],[/smart-tv.+(samsung)/i],[d,[l,b],c],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[d,"Samsung"],c,[l,g]],[/sie-(\w*)/i],[c,[d,"Siemens"],[l,g]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[d,"Nokia"],c,[l,g]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[c,[d,"Acer"],[l,m]],[/android.+([vl]k\-?\d{3})\s+build/i],[c,[d,"LG"],[l,m]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[d,"LG"],c,[l,m]],[/(lg) netcast\.tv/i],[d,c,[l,b]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[c,[d,"LG"],[l,g]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[c,[d,"Lenovo"],[l,m]],[/linux;.+((jolla));/i],[d,c,[l,g]],[/((pebble))app\/[\d\.]+\s/i],[d,c,[l,w]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[d,c,[l,g]],[/crkey/i],[[c,"Chromecast"],[d,"Google"]],[/android.+;\s(glass)\s\d/i],[c,[d,"Google"],[l,w]],[/android.+;\s(pixel c)\s/i],[c,[d,"Google"],[l,m]],[/android.+;\s(pixel xl|pixel)\s/i],[c,[d,"Google"],[l,g]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[c,/_/g," "],[d,"Xiaomi"],[l,g]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[c,/_/g," "],[d,"Xiaomi"],[l,m]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[c,[d,"Meizu"],[l,m]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[c,[d,"OnePlus"],[l,g]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[c,[d,"RCA"],[l,m]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[c,[d,"Dell"],[l,m]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[c,[d,"Verizon"],[l,m]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[d,"Barnes & Noble"],c,[l,m]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[c,[d,"NuVision"],[l,m]],[/android.+;\s(k88)\sbuild/i],[c,[d,"ZTE"],[l,m]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[c,[d,"Swiss"],[l,g]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[c,[d,"Swiss"],[l,m]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[c,[d,"Zeki"],[l,m]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[d,"Dragon Touch"],c,[l,m]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[c,[d,"Insignia"],[l,m]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[c,[d,"NextBook"],[l,m]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[d,"Voice"],c,[l,g]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[d,"LvTel"],c,[l,g]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[c,[d,"Envizen"],[l,m]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[d,c,[l,m]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[c,[d,"MachSpeed"],[l,m]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[d,c,[l,m]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[c,[d,"Rotor"],[l,m]],[/android.+(KS(.+))\s+build/i],[c,[d,"Amazon"],[l,m]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[d,c,[l,m]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[l,y.lowerize],d,c],[/(android[\w\.\s\-]{0,9});.+build/i],[c,[d,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[p,[f,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[f,p],[/rv\:([\w\.]{1,9}).+(gecko)/i],[p,f]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[f,p],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[f,[p,E.str,x.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[f,"Windows"],[p,E.str,x.os.windows.version]],[/\((bb)(10);/i],[[f,"BlackBerry"],p],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i,/linux;.+(sailfish);/i],[f,p],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[f,"Symbian"],p],[/\((series40);/i],[f],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[f,"Firefox OS"],p],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[f,p],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[f,"Chromium OS"],p],[/(sunos)\s?([\w\.\d]*)/i],[[f,"Solaris"],p],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[f,p],[/(haiku)\s(\w+)/i],[f,p],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[p,/_/g,"."],[f,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[f,"Mac OS"],[p,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]*)/i],[f,p]]},k=function(e,t){if("object"==typeof e&&(t=e,e=i),!(this instanceof k))return new k(e,t).getResult();var r=e||(o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),n=t?y.extend(I,t):I;return this.getBrowser=function(){var e={name:i,version:i};return E.rgx.call(e,r,n.browser),e.major=y.major(e.version),e},this.getCPU=function(){var e={architecture:i};return E.rgx.call(e,r,n.cpu),e},this.getDevice=function(){var e={vendor:i,model:i,type:i};return E.rgx.call(e,r,n.device),e},this.getEngine=function(){var e={name:i,version:i};return E.rgx.call(e,r,n.engine),e},this.getOS=function(){var e={name:i,version:i};return E.rgx.call(e,r,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=e,this},this};k.VERSION="0.7.18",k.BROWSER={NAME:f,MAJOR:"major",VERSION:p},k.CPU={ARCHITECTURE:v},k.DEVICE={MODEL:c,VENDOR:d,TYPE:l,CONSOLE:h,MOBILE:g,SMARTTV:b,TABLET:m,WEARABLE:w,EMBEDDED:"embedded"},k.ENGINE={NAME:f,VERSION:p},k.OS={NAME:f,VERSION:p},typeof t!==s?(typeof e!==s&&e.exports&&(t=e.exports=k),t.UAParser=k):r(2)?(n=function(){return k}.call(t,r,t,e))===i||(e.exports=n):o&&(o.UAParser=k);var S=o&&(o.jQuery||o.Zepto);if(typeof S!==s){var O=new k;S.ua=O.getResult(),S.ua.get=function(){return O.getUA()},S.ua.set=function(e){O.setUA(e);var t=O.getResult();for(var r in t)S.ua[r]=t[r]}}}("object"==typeof window?window:this)},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,r){var n={MOBILE:"mobile",TABLET:"tablet",SMART_TV:"smarttv",CONSOLE:"console",WEARABLE:"wearable",BROWSER:void 0};e.exports={BROWSER_TYPES:{CHROME:"Chrome",FIREFOX:"Firefox",OPERA:"Opera",YANDEX:"Yandex",SAFARI:"Safari",INTERNET_EXPLORER:"Internet Explorer",EDGE:"Edge",CHROMIUM:"Chromium",IE:"IE",MOBILE_SAFARI:"Mobile Safari"},DEVICE_TYPES:n,OS_TYPES:{IOS:"iOS",ANDROID:"Android",WINDOWS_PHONE:"Windows Phone"},defaultData:{isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1}}}]),Fl=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},Ul=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},Bl=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},$l=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},zl=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},Gl=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},Vl=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Wl=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],Xl=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Hl(e){return e?Kl(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new Gl:"undefined"!=typeof navigator?Kl(navigator.userAgent):"undefined"!=typeof process&&process.version?new Bl(process.version.slice(1)):null}function Kl(e){var t=function(e){return""!==e&&Wl.reduce((function(t,r){var n=r[0],o=r[1];if(t)return t;var i=o.exec(e);return!!i&&[n,i]}),!1)}(e);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new zl;var o=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);o?o.length<3&&(o=Fl(Fl([],o,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-o.length),!0)):o=[];var i=o.join("."),a=function(e){for(var t=0,r=Xl.length;t<r;t++){var n=Xl[t],o=n[0];if(n[1].exec(e))return o}return null}(e),s=Vl.exec(e);return s&&s[1]?new $l(r,i,a,s[1]):new Ul(r,i,a)}var Ql,ql,Jl=function(){var e=void 0;try{var t,r,n=Hl(),o="React_Native";null!==(t=window)&&void 0!==t&&null!==(r=t.navigator)&&void 0!==r&&r.userAgent&&(o="Desktop",Dl.isMobileOnly?o="Mobile":Dl.isTablet&&(o="Tablet")),e={platform:o,OS:n.os?n.os.replace(/\s/g,"_"):n.os,browserName:n.name}}catch(t){e=void 0}return e};function Yl(e,t){var r=hs(e);if(gs){var n=gs(e);t&&(n=Es(n).call(n,(function(t){return ks(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yl(Object(r),!0).forEach((function(t){Ja(e,t,r[t])})):Ss?Object.defineProperties(e,Ss(r)):Yl(Object(r)).forEach((function(t){Object.defineProperty(e,t,ks(r,t))}))}return e}var ed=null!==(Ql=window)&&void 0!==Ql&&null!==(ql=Ql.performance)&&void 0!==ql&&ql.mark?window.performance:{mark:function(){},measure:function(){}},td=Al,rd=Rl,nd=Ml.STR_FILE_URL,od=Ml.COORDINATOR_SERVICE_URL,id=Ml.ABBA_FEED_S3_URL_BASE,ad=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.strFileUrl,o=void 0===n?nd:n,i=r.coordinatorServiceUrl,a=void 0===i?od:i,s=r.useCachedCoordinatorData,u=void 0!==s&&s;Ha(this,e),this._bindClassFunctions(this),this._bridge=t,this.strFileUrl=o,this.coordinatorServiceUrl=a,this.useCachedCoordinatorData=u}var t,r,n,o,i,a,s,u,c,f,l,d,p,v,h,g,m;return qa(e,[{key:"_bindClassFunctions",value:function(e){e.getTags=e.getTags.bind(e),e.getUserInfo=e.getUserInfo.bind(e),e.injectIFrame=e.injectIFrame.bind(e),e.setContentMetadata=e.setContentMetadata.bind(e),e.getContentMetadata=e.getContentMetadata.bind(e),e.getSTRValues=e.getSTRValues.bind(e),e.getUrlValues=e.getUrlValues.bind(e),e.refreshCoordinatorServiceData=e.refreshCoordinatorServiceData.bind(e),e.getTargetingMetadata=e.getTargetingMetadata.bind(e),e.getAdRecommendations=e.getAdRecommendations.bind(e),e.fetchCoordinatorServiceData=e.fetchCoordinatorServiceData.bind(e),e._fetchAbbaFeeds=e._fetchAbbaFeeds.bind(e)}},{key:"_withUserInfo",value:(m=Xa(ss.mark((function e(t){var r,n,o,i=arguments;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,this.getUserInfo();case 3:return n=e.sent,o=as({},r,{userInfo:n}),e.abrupt("return",t(o));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"refreshCoordinatorServiceData",value:(g=Xa(ss.mark((function e(){var t,r,n,o,i,a,s,u,c,f,l,d,p,v,h,g=arguments;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.length>0&&void 0!==g[0]?g[0]:{},r=t.forceCoordinatorFetch,n=void 0!==r&&r,o=t.coordinatorQueryParams,i=void 0===o?{}:o,ed.mark("AbbaClient-refreshCoordinatorServiceData-Start"),a=[this._bridge.getCurrentResource(),this._bridge.getPersonalizationAllowed(),this._bridge.getReferrer(),this._bridge.getQueryParams(),this._bridge.needsPersonalizationRefresh()],e.next=5,Ya.all(a);case 5:return s=e.sent,u=s[0],c=u.id,f=u.contentType,l=s[1]||!1,d=Sl(s[2],s[3]),p=s[4]||!1,e.next=12,this._bridge.getItem(rd);case 12:if(v=e.sent,h={},p||n||!v){e.next=18;break}h=v,e.next=26;break;case 18:if(!this.useCachedCoordinatorData||!v){e.next=23;break}h=v,this.fetchCoordinatorServiceData({baseUrl:this.coordinatorServiceUrl,id:c,contentType:f,deviceInfo:Jl(),referrerSource:d,personalizationAllowed:l,coordinatorQueryParams:i}),e.next=26;break;case 23:return e.next=25,this.fetchCoordinatorServiceData({baseUrl:this.coordinatorServiceUrl,id:c,contentType:f,deviceInfo:Jl(),referrerSource:d,personalizationAllowed:l,coordinatorQueryParams:i});case 25:h=e.sent;case 26:return ed.mark("AbbaClient-refreshCoordinatorServiceData-End"),ed.measure("AbbaClient-refreshCoordinatorServiceData","AbbaClient-refreshCoordinatorServiceData-Start","AbbaClient-refreshCoordinatorServiceData-End"),e.abrupt("return",h);case 29:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"fetchCoordinatorServiceData",value:(h=Xa(ss.mark((function e(t){var r;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ed.mark("AbbaClient-fetchCoordinatorServiceData-Start"),e.next=3,ud(t);case 3:return r=e.sent,e.next=6,this._bridge.setItem(rd,r);case 6:return ed.mark("AbbaClient-fetchCoordinatorServiceData-End"),ed.measure("AbbaClient-fetchCoordinatorServiceData","AbbaClient-fetchCoordinatorServiceData-Start","AbbaClient-fetchCoordinatorServiceData-End"),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"_fetchAbbaFeeds",value:(v=Xa(ss.mark((function e(t){var r,n;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ed.mark("AbbaClient-_fetchAbbaFeeds-Start"),e.next=3,ud({baseUrl:ts(r="".concat(id,"/")).call(r,t,".json"),limit:null},{includeCredentials:!1});case 3:return n=e.sent,ed.mark("AbbaClient-_fetchAbbaFeeds-End"),ed.measure("AbbaClient-_fetchAbbaFeeds","AbbaClient-_fetchAbbaFeeds-Start","AbbaClient-_fetchAbbaFeeds-End"),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),function(e){return v.apply(this,arguments)})},{key:"getAdParams",value:function(e){return this._withUserInfo(fd,e)}},{key:"getTags",value:(p=Xa(ss.mark((function e(){var t,r,n,o,i,a,s=arguments;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.length>0&&void 0!==s[0]?s[0]:{},i=s.length>1&&void 0!==s[1]?s[1]:{},a={},e.t0=fd,e.next=6,this.getUserInfo();case 6:return e.t1=e.sent,e.next=9,this._bridge.getReferrer();case 9:return e.t2=e.sent,e.t3=null!==(t=null!==(r=null==i?void 0:i.contentTags)&&void 0!==r?r:null===(n=this._bridge.getItem(td,!0))||void 0===n?void 0:n.contentTags)&&void 0!==t?t:[],e.t4={userInfo:e.t1,referrer:e.t2,contentTags:e.t3},a=(0,e.t0)(e.t4),e.abrupt("return",as({},o,a));case 14:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"getAdRecommendations",value:(d=Xa(ss.mark((function e(){var t,r,n,o,i,a,s,u,c,f,l,d=arguments;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>0&&void 0!==d[0]?d[0]:{},(d.length>1&&void 0!==d[1]?d[1]:{}).targetingParamLimit,e.next=4,this.getUserInfo();case 4:if(o=e.sent,i={},a={HIGH:"recsh",MEDIUM:"recsm",LOW:"recsl"},null!=o&&null!==(t=o.Metadata)&&void 0!==t&&null!==(r=t.prediction)&&void 0!==r&&r.adPropensity)for(s=0,u=Bc(o.Metadata.prediction.adPropensity);s<u.length;s++)c=$o(u[s],2),f=c[0],l=c[1],i[a[f]]=l;return e.abrupt("return",as({},n,i));case 9:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"injectIFrame",value:function(e,t,r){"function"==typeof this._bridge.injectIFrame&&this._bridge.injectIFrame(e,t,r)}},{key:"getPreferredTags",value:function(e){return this._withUserInfo(ld,e)}},{key:"getPreferredResourceTypes",value:function(){return this._withUserInfo(dd)}},{key:"getPreferredAuthors",value:function(){return this._withUserInfo(pd)}},{key:"getUserSegments",value:function(){return this._withUserInfo(vd)}},{key:"getUserActions",value:function(){return this._withUserInfo(hd)}},{key:"getUserMetadata",value:(l=Xa(ss.mark((function e(){var t,r,n,o,i;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserInfo();case 2:return t=e.sent,r=t.Metadata,o=sd((n=void 0===r?{}:r).attribute),i=as({},n,{attribute:o}),e.abrupt("return",{Metadata:i});case 8:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"getGeoIPData",value:(f=Xa(ss.mark((function e(){var t;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._bridge.getItem(rd);case 2:return t=e.sent,e.abrupt("return",(null==t?void 0:t.geoIP)||{});case 4:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"getUserInfo",value:(c=Xa(ss.mark((function e(){var t;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._bridge.getItem(rd);case 2:return t=e.sent,e.abrupt("return",(null==t?void 0:t.personalization)||{});case 4:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"getContextMetadata",value:(u=Xa(ss.mark((function e(){var t;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._bridge.getReferrer();case 3:return t=e.sent,e.abrupt("return",{Metadata:{attribute:{domainCategory:(r=t,n=void 0,o=void 0,n=wl(r),o=vl[n],o||(o=vl.OTHERS),o)}}});case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{});case 11:case"end":return e.stop()}var r,n,o}),e,this,[[0,7]])}))),function(){return u.apply(this,arguments)})},{key:"setContentMetadata",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.adCodes,r=void 0===t?[]:t,n=e.archived,o=void 0!==n&&n,i=e.brand,a=void 0===i?"":i,s=e.contentTags,u=void 0===s?[]:s,c=e.contentType,f=void 0===c?"":c,l=e.franchise,d=void 0===l?"":l,p=e.id,v=void 0===p?"":p,h=e.metadata,g=void 0===h?{}:h;return this._bridge.setItem(td,{adCodes:r,archived:o,brand:a,contentTags:u,contentType:f,franchise:d,id:v,articleMetadata:g},!0)}},{key:"getContentMetadata",value:function(){return this._bridge.getItem(td,!0)}},{key:"getSTRValues",value:(s=Xa(ss.mark((function e(){var t,r,n,o,i,a,s,u;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},r=[this._bridge.getItem(td,!0),this._bridge.getItem(rd),this._fetchSTRFile(this.strFileUrl)],e.prev=2,e.next=5,Ya.all(r);case 5:return i=e.sent,a=i[0]&&i[0].adCodes||[],s=(null===(n=i[1])||void 0===n||null===(o=n.geoIP)||void 0===o?void 0:o.country)||"",u=i[2],hs(Ol).forEach((function(e){var r=Ol[e];t[e]=r(a,s,u)})),e.abrupt("return",t);case 13:return e.prev=13,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",{});case 17:case"end":return e.stop()}}),e,this,[[2,13]])}))),function(){return s.apply(this,arguments)})},{key:"_fetchSTRFile",value:(a=Xa(ss.mark((function e(t){var r;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((r=e.sent).ok){e.next=5;break}throw new Error(r.statusText);case 5:return e.abrupt("return",r.json());case 6:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"getUrlValues",value:(i=Xa(ss.mark((function e(){var t,r,n;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={url:"",utmValues:void 0,queryParams:void 0},r=[this._bridge.getUrl(),this._bridge.getQueryParams("utm_.*"),this._bridge.getQueryParams()],e.prev=2,e.next=5,Ya.all(r);case 5:n=e.sent,t.url=n[0]||"",t.utmValues=n[1]||new xu,t.queryParams=n[2]||new xu,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0);case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e,this,[[2,11]])}))),function(){return i.apply(this,arguments)})},{key:"getTargetingMetadata",value:(o=Xa(ss.mark((function e(){var t,r,n,o,i,a,s,u,c;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getContentMetadata();case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:return t=e.t0,r=[this.getContextMetadata(),this.getAdParams(t.contentTags),this.getUrlValues(),this.getUserMetadata(),this.getGeoIPData()],e.next=10,Ya.all(r);case 10:return n=e.sent,o=$o(n,5),i=o[0],a=o[1],s=o[2],u=o[3],c=o[4],e.abrupt("return",{contextInfo:i,tagsInfo:a,urlUtmValues:s,contentMetadata:t,byzantium:u,geoIP:c});case 20:throw e.prev=20,e.t1=e.catch(0),console.error(e.t1),e.t1;case 24:case"end":return e.stop()}}),e,this,[[0,20]])}))),function(){return o.apply(this,arguments)})},{key:"getDeviceInfo",value:function(){var e=Jl();return Zl(Zl({},e),{},{deviceInfoString:qc({deviceInfo:e})})}},{key:"getReferrerSource",value:(n=Xa(ss.mark((function e(){var t,r,n;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[this._bridge.getReferrer(),this._bridge.getQueryParams()],e.next=3,Ya.all(t);case 3:return r=e.sent,n=Sl(r[0],r[1]),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getAccesslistMembership",value:(r=Xa(ss.mark((function e(){var t,r;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._bridge.getItem(rd);case 2:return r=e.sent,e.abrupt("return",null!==(t=null==r?void 0:r.accesslistMembership)&&void 0!==t?t:"");case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getUserCredentials",value:(t=Xa(ss.mark((function e(){var t,r;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._bridge.getItem(rd);case 2:return r=e.sent,e.abrupt("return",null!==(t=null==r?void 0:r.userCredentials)&&void 0!==t?t:{});case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}();function sd(e){var t,r,n,o,i,a=new Date,s=e&&e.firstVisitedDate?(t=a,r=e.firstVisitedDate,n=$o(r.split("-"),2),o=n[0],i=n[1],12*(t.getFullYear()-parseInt(o))+(t.getMonth()+1-parseInt(i))+1):1;return as({},e,{calendarMonthSinceFirstVisit:s})}function ud(e){return cd.apply(this,arguments)}function cd(){return(cd=Xa(ss.mark((function e(t){var r,n,o,i,a,s,u,c,f=arguments;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>1&&void 0!==f[1]?f[1]:{},n=r.includeCredentials,o=void 0===n||n,ed.mark("AbbaClient-_fetchWrapper-".concat(t.baseUrl,"-Start")),i=t.fetchApi,a=void 0===i?fetch:i,s=Qc(t),e.prev=4,e.next=7,a(s,{credentials:o?"include":void 0});case 7:return u=e.sent,c=u.json(),ed.mark("AbbaClient-_fetchWrapper-".concat(t.baseUrl,"-End")),ed.measure("AbbaClient-_fetchWrapper-".concat(t.baseUrl),"AbbaClient-_fetchWrapper-".concat(t.baseUrl,"-Start"),"AbbaClient-_fetchWrapper-".concat(t.baseUrl,"-End")),e.abrupt("return",c);case 14:return e.prev=14,e.t0=e.catch(4),console.error("Failed to fetch data from url: ".concat(s,"."),e.t0),e.abrupt("return",{});case 18:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)}function fd(e){var t=e.userInfo,r=e.contentTags;return nl({userInfo:t,contextInfo:{referrer:e.referrer,contentTags:r}})}function ld(e){return ol({userInfo:e.userInfo,contextInfo:{contentTags:e.contentTags}}).preferredTagsTypeMap}function dd(e){return ol({userInfo:e.userInfo}).preferredResourceTypesMap}function pd(e){return ol({userInfo:e.userInfo}).preferredAuthorsMap}function vd(e){return gd({userInfo:e.userInfo,targetField:"segment",outputField:"userSegments"})}function hd(e){return gd({userInfo:e.userInfo,targetField:"action",outputField:"userActions"})}function gd(e){var t=e.userInfo,r=e.targetField,n=e.outputField,o=(t||{}).Metadata,i=(o=void 0===o?{}:o)[r],a=void 0===i?[]:i;return Ja({},n,Wc(a).call(a,(function(e){return e["".concat(r,"Id")]})))}var md=eo,bd=bo("Array").entries,wd=Array.prototype,yd={DOMTokenList:!0,NodeList:!0},Ed=function(e){var t=e.entries;return e===wd||U(wd,e)&&t===wd.entries||ce(yd,st(e))?bd:t},xd=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){function n(e){var t=document.cookie.match("(^|;) ?".concat(e,"=([^;$]*)"));return t?t[2]:""}function o(e,t){return-1!==e.indexOf(t)}function i(e){window.__tcfapi("removeEventListener",2,(function(t){t||console.warn("[ms.consent] Failed to remove __tcfapi event listener",e)}),e)}function a(){return o(n("bbgconsentstring"),"req1")}function s(){return o(n("bbgconsentstring"),"fun1")}function u(){return o(n("bbgconsentstring"),"pad1")}r.r(t),t.default={waitForUserConsent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,r){if(!window.__tcfapi||!window.__uspapi)return console.error("[ms.consent] Please make sure __tcfapi and __uspapi are setup"),r(new Error("__tcfapi and __uspapi not loaded"));var n=!1,o=setTimeout((function(){console.error("[ms.consent] Timeout in `waitForUserConsent` with options",e),r(new Error("No response from __tcfapi event listener"))}),e.inactiveTimeout||1e4);window.__tcfapi("addEventListener",2,(function(e,a){if(!a)return console.error("[ms.consent] Failed to `addEventListener` with __tcfapi"),r(new Error("Unable to assign event listener"));if(!n)if(void 0!==e.gdprApplies){clearTimeout(o);var s=e.gdprApplies,u=e.eventStatus,c=e.listenerId;s?"tcloaded"!==u&&"useractioncomplete"!==u||(t({tcData:e}),i(c),n=!0):(window.__uspapi("getUSPData",1,(function(e,n){if(!n)return console.error("[ms.consent] Failed to `getUSPData` with __uspapi"),r(new Error("Unable to get US privacy data from __uspapi"));t({uspData:e})})),i(c),n=!0)}else console.warn("[ms.consent] Received `gdprApplies` as undefined")}))}))},gdprAppliesAsync:function(){return window.__tcfapi?new Promise((function(e,t){window.__tcfapi("getTCData",2,(function(r,n){n?e(r.gdprApplies):t(new Error("Failed to `getTCData` from __tcfapi"))}))})):Promise.reject(new Error("Unable to find __tcfapi in global scope"))},iabConsentStringAsync:function(){return window.__tcfapi?new Promise((function(e,t){window.__tcfapi("getTCData",2,(function(r,n){n?e(r.tcString):t(new Error("Failed to `getTCData` from __tcfapi"))}))})):Promise.reject(new Error("Unable to find __tcfapi in global scope"))},getUSPrivacyStringAsync:function(){return window.__uspapi?new Promise((function(e,t){window.__uspapi("getUSPData",1,(function(r,n){n?e(r.uspString):t(new Error("Failed to `getUSPData` from __uspapi"))}))})):Promise.reject(new Error("Unable to find __uspapi in global scope"))},reqAllowed:a,reqAllowedAsync:function(){return Promise.resolve(a())},funAllowed:s,funAllowedAsync:function(){return Promise.resolve(s())},padAllowed:u,padAllowedAsync:function(){return Promise.resolve(u())}}}]).default,Id=function(e,t){if(e&&e.cookie){var r=e.cookie.match("(^|;) ?"+t+"=([^;$]*)");if(r)return r[2]}return null};function kd(){try{var e=JSON.parse(window.sessionStorage.getItem(Al)),t=e.id,r=e.contentType;if(void 0!==t&&void 0!==r)return{id:t,contentType:r}}catch(e){}return{}}var Sd="reg-user-info-ready",Od="session_id",Ad="session_key",Td="agent_id",Rd="_breg-uid";function _d(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Id(document,Od),r=Id(document,Ad),n=Id(document,Td),o=Id(document,Rd);return t&&r&&n&&o||e?{sessionId:t,sessionKey:r,agentId:n,userId:o}:null}function Pd(e){var t=e.sessionId,r=e.sessionKey,n=e.agentId,o=e.userId,i={};return t&&(i.session_id=t),r&&(i.session_key=r),n&&(i.agent_id=n),o&&(i.breg=o),i}function Cd(e,t){var r=void 0!==md&&po(e)||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){var r;if(!e)return;if("string"==typeof e)return Nd(e,t);var n=Zc(r=Object.prototype.toString.call(e)).call(r,8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Pc(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nd(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Nd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ld=function(){function e(){Ha(this,e),window.addEventListener("beforeunload",(function(){window.sessionStorage.removeItem(Al),window.sessionStorage.removeItem(Tl)}))}return qa(e,[{key:"setItem",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Ya((function(n,o){try{r?window.sessionStorage.setItem(e,Tf(t)):window.localStorage.setItem(e,Tf(t)),n()}catch(e){o(e)}}))}},{key:"getItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Ya((function(r){try{r(t?JSON.parse(window.sessionStorage.getItem(e)):JSON.parse(window.localStorage.getItem(e)))}catch(e){r(null)}}))}},{key:"getReferrer",value:function(){var e="";try{var t,r,n;e=null!==(t=null===(r=window)||void 0===r||null===(n=r.__bloomberg__)||void 0===n?void 0:n.referrer)&&void 0!==t?t:document.referrer}catch(e){}return Ya.resolve(e)}},{key:"getUrl",value:function(){var e="";try{e=window.location.href}catch(e){}return Ya.resolve(e)}},{key:"getQueryParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=new xu;try{var r=new xu(window.location.search);if(e)t=r;else{var n,o=new RegExp(e,"i"),i=Cd(Ed(r).call(r));try{for(i.s();!(n=i.n()).done;){var a=$o(n.value,2),s=a[0],u=a[1];s.match(o)&&t.append(s,u)}}catch(e){i.e(e)}finally{i.f()}}}catch(e){}return Ya.resolve(t)}},{key:"getCurrentResource",value:function(){return Ya.resolve(kd())}},{key:"needsPersonalizationRefresh",value:function(){var e=this,t=!0;return new Ya((function(r){var n,o=kd(),i=o.id,a=o.contentType,s=ts(n="".concat(a,"|")).call(n,i);e.getItem(Tl,!0).then((function(r){return t=void 0===a&&void 0===i||r!==s,e.setItem(Tl,s,!0)})).then((function(){r(t)}))}))}},{key:"getPersonalizationAllowed",value:function(){return Ya.resolve(xd.padAllowed())}},{key:"setPersonalizationAllowed",value:function(e){return Ya.resolve(void 0)}},{key:"getSessionInfo",value:function(){return(e=window._regUserInfo||_d())?Ya.resolve(Pd(e)):new Ya((function(t,r){var n;try{n=function(o){var i=o.detail;window.removeEventListener(Sd,n),e=i;try{t(Pd(e))}catch(e){return r("exception in _formatUserInfo")}},window.addEventListener(Sd,n),setTimeout((function(){window.removeEventListener(Sd,n),e=_d(!0),t(Pd(e))}),2e3)}catch(e){return window.removeEventListener(Sd,n),r("exception in getSessionInfo")}}));var e}},{key:"injectIFrame",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(e&&e.getElementsByTagName("iframe").length>0||""===r)return e=null,!1;var n=document.createElement("iframe");return n.setAttribute("src",r),n.setAttribute("style","width: 100%; height: "+t.height),e.appendChild(n),e=null,n=null,!0}},{key:"getCookie",value:function(e){var t=decodeURIComponent(Id(document,e));try{return JSON.parse(t)}catch(e){return t}}}]),e}(),jd="Feed was null or undefined.",Md="Feed targets was null or undefined.",Dd="Feed targets was not passed as an array.",Fd="Feed targets was empty.",Ud=function(e){if(!e)throw Tu(jd),new Error(jd);if(!e.targets)throw Tu(Md),new Error(Md);if(!Array.isArray(e.targets))throw Tu(Dd),new Error(Dd);if(0===e.targets.length)throw Tu(Fd),new Error(Fd);return!0},Bd="1.1.6",$d=new(function(){function e(){Ha(this,e),this.jobQueue=[],this.running=!1}var t,r,n;return qa(e,[{key:"push",value:(n=Xa(ss.mark((function e(t){var r,n,o,i;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new Ya((function(e,t){r=e,n=t})),i={fn:t,resolve:r,reject:n},this.jobQueue.push(i),this.runNextJob(),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"runNextJob",value:(r=Xa(ss.mark((function e(){var t,r;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.jobQueue.length>0)||this.running){e.next=15;break}return this.running=!0,t=this.jobQueue.shift(),e.prev=3,e.next=6,t.fn.call();case 6:r=e.sent,t.resolve(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t.reject(e.t0);case 13:return this.running=!1,e.abrupt("return",this.runNextJob());case 15:case"end":return e.stop()}}),e,this,[[3,10]])}))),function(){return r.apply(this,arguments)})},{key:"flushQueue",value:(t=Xa(ss.mark((function e(){return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.push((function(){}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}()),zd=function(e){return Au("Sanitizing feed"),e=e.data||e,Array.isArray(e)&&(e={targets:e}),e.targets.forEach((function(e){"string"==typeof e.config&&(e.config=JSON.parse(e.config)),"string"==typeof e.condition&&(e.condition=JSON.parse(e.condition)),e.experiments&&e.experiments.forEach((function(e){e.buckets.forEach((function(e){"string"==typeof e.config&&(e.config=JSON.parse(e.config))}))})),e.globalExperiments&&e.globalExperiments.forEach((function(e){e.buckets.forEach((function(e){"string"==typeof e.config&&(e.config=JSON.parse(e.config))}))}))})),Au("Successfully sanitized feed"),e},Gd=vr.f("iterator");function Vd(e){return(Vd="function"==typeof to&&"symbol"==typeof Gd?function(e){return typeof e}:function(e){return e&&"function"==typeof to&&e.constructor===to&&e!==to.prototype?"symbol":typeof e})(e)}function Wd(e){return function(e){if(Qe(e))return Uo(e)}(e)||function(e){if(void 0!==to&&null!=po(e)||null!=e["@@iterator"])return Fo(e)}(e)||Bo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Xd=bo("Array").values,Hd=Array.prototype,Kd={DOMTokenList:!0,NodeList:!0},Qd=function(e){var t=e.values;return e===Hd||U(Hd,e)&&t===Hd.values||ce(Kd,st(e))?Xd:t},qd=bo("Array").keys,Jd=Array.prototype,Yd={DOMTokenList:!0,NodeList:!0},Zd=function(e){var t=e.keys;return e===Jd||U(Jd,e)&&t===Jd.keys||ce(Yd,st(e))?qd:t},ep=function(){var e,t;return!(null===(e=window)||void 0===e||null===(t=e.navigator)||void 0===t||!t.userAgent)&&(Dl.isMobileOnly?"mobile":Dl.isTablet?"tablet":"desktop")},tp=function(){if(window&&window.navigator){var e=Hl();return e&&e.name}return!1},rp=function(){if(window&&window.navigator){var e=Hl();return e&&e.os}return!1};var np="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var op={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},ip=r((function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r}=op,n=(t=e.exports={}).re=[],o=t.src=[],i=t.t={};let a=0;const s=(e,t,r)=>{const s=a++;np(s,t),i[e]=s,o[s]=t,n[s]=new RegExp(t,r?"g":void 0)};s("NUMERICIDENTIFIER","0|[1-9]\\d*"),s("NUMERICIDENTIFIERLOOSE","[0-9]+"),s("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),s("MAINVERSION",`(${o[i.NUMERICIDENTIFIER]})\\.(${o[i.NUMERICIDENTIFIER]})\\.(${o[i.NUMERICIDENTIFIER]})`),s("MAINVERSIONLOOSE",`(${o[i.NUMERICIDENTIFIERLOOSE]})\\.(${o[i.NUMERICIDENTIFIERLOOSE]})\\.(${o[i.NUMERICIDENTIFIERLOOSE]})`),s("PRERELEASEIDENTIFIER",`(?:${o[i.NUMERICIDENTIFIER]}|${o[i.NONNUMERICIDENTIFIER]})`),s("PRERELEASEIDENTIFIERLOOSE",`(?:${o[i.NUMERICIDENTIFIERLOOSE]}|${o[i.NONNUMERICIDENTIFIER]})`),s("PRERELEASE",`(?:-(${o[i.PRERELEASEIDENTIFIER]}(?:\\.${o[i.PRERELEASEIDENTIFIER]})*))`),s("PRERELEASELOOSE",`(?:-?(${o[i.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[i.PRERELEASEIDENTIFIERLOOSE]})*))`),s("BUILDIDENTIFIER","[0-9A-Za-z-]+"),s("BUILD",`(?:\\+(${o[i.BUILDIDENTIFIER]}(?:\\.${o[i.BUILDIDENTIFIER]})*))`),s("FULLPLAIN",`v?${o[i.MAINVERSION]}${o[i.PRERELEASE]}?${o[i.BUILD]}?`),s("FULL",`^${o[i.FULLPLAIN]}$`),s("LOOSEPLAIN",`[v=\\s]*${o[i.MAINVERSIONLOOSE]}${o[i.PRERELEASELOOSE]}?${o[i.BUILD]}?`),s("LOOSE",`^${o[i.LOOSEPLAIN]}$`),s("GTLT","((?:<|>)?=?)"),s("XRANGEIDENTIFIERLOOSE",`${o[i.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),s("XRANGEIDENTIFIER",`${o[i.NUMERICIDENTIFIER]}|x|X|\\*`),s("XRANGEPLAIN",`[v=\\s]*(${o[i.XRANGEIDENTIFIER]})(?:\\.(${o[i.XRANGEIDENTIFIER]})(?:\\.(${o[i.XRANGEIDENTIFIER]})(?:${o[i.PRERELEASE]})?${o[i.BUILD]}?)?)?`),s("XRANGEPLAINLOOSE",`[v=\\s]*(${o[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[i.XRANGEIDENTIFIERLOOSE]})(?:${o[i.PRERELEASELOOSE]})?${o[i.BUILD]}?)?)?`),s("XRANGE",`^${o[i.GTLT]}\\s*${o[i.XRANGEPLAIN]}$`),s("XRANGELOOSE",`^${o[i.GTLT]}\\s*${o[i.XRANGEPLAINLOOSE]}$`),s("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),s("COERCERTL",o[i.COERCE],!0),s("LONETILDE","(?:~>?)"),s("TILDETRIM",`(\\s*)${o[i.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",s("TILDE",`^${o[i.LONETILDE]}${o[i.XRANGEPLAIN]}$`),s("TILDELOOSE",`^${o[i.LONETILDE]}${o[i.XRANGEPLAINLOOSE]}$`),s("LONECARET","(?:\\^)"),s("CARETTRIM",`(\\s*)${o[i.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",s("CARET",`^${o[i.LONECARET]}${o[i.XRANGEPLAIN]}$`),s("CARETLOOSE",`^${o[i.LONECARET]}${o[i.XRANGEPLAINLOOSE]}$`),s("COMPARATORLOOSE",`^${o[i.GTLT]}\\s*(${o[i.LOOSEPLAIN]})$|^$`),s("COMPARATOR",`^${o[i.GTLT]}\\s*(${o[i.FULLPLAIN]})$|^$`),s("COMPARATORTRIM",`(\\s*)${o[i.GTLT]}\\s*(${o[i.LOOSEPLAIN]}|${o[i.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",s("HYPHENRANGE",`^\\s*(${o[i.XRANGEPLAIN]})\\s+-\\s+(${o[i.XRANGEPLAIN]})\\s*$`),s("HYPHENRANGELOOSE",`^\\s*(${o[i.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[i.XRANGEPLAINLOOSE]})\\s*$`),s("STAR","(<|>)?=?\\s*\\*"),s("GTE0","^\\s*>=\\s*0.0.0\\s*$"),s("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")}));const ap=["includePrerelease","loose","rtl"];var sp=e=>e?"object"!=typeof e?{loose:!0}:ap.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{};const up=/^[0-9]+$/,cp=(e,t)=>{const r=up.test(e),n=up.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1};var fp={compareIdentifiers:cp,rcompareIdentifiers:(e,t)=>cp(t,e)};const{MAX_LENGTH:lp,MAX_SAFE_INTEGER:dp}=op,{re:pp,t:vp}=ip,{compareIdentifiers:hp}=fp;class gp{constructor(e,t){if(t=sp(t),e instanceof gp){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>lp)throw new TypeError(`version is longer than ${lp} characters`);np("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?pp[vp.LOOSE]:pp[vp.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>dp||this.major<0)throw new TypeError("Invalid major version");if(this.minor>dp||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>dp||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<dp)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(np("SemVer.compare",this.version,this.options,e),!(e instanceof gp)){if("string"==typeof e&&e===this.version)return 0;e=new gp(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof gp||(e=new gp(e,this.options)),hp(this.major,e.major)||hp(this.minor,e.minor)||hp(this.patch,e.patch)}comparePre(e){if(e instanceof gp||(e=new gp(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],n=e.prerelease[t];if(np("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return hp(r,n)}while(++t)}compareBuild(e){e instanceof gp||(e=new gp(e,this.options));let t=0;do{const r=this.build[t],n=e.build[t];if(np("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return hp(r,n)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}var mp=gp;var bp=(e,t,r)=>new mp(e,r).compare(new mp(t,r));var wp=(e,t,r)=>bp(e,t,r)>0;var yp=(e,t,r)=>bp(e,t,r)<0;var Ep=(e,t,r)=>0===bp(e,t,r);var xp=(e,t,r)=>0!==bp(e,t,r);var Ip=(e,t,r)=>bp(e,t,r)>=0;var kp=(e,t,r)=>bp(e,t,r)<=0,Sp=function(){var e=Xa(ss.mark((function e(t,r){return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.t0=t.store,e.next="byzantium"===e.t0?4:"userInfo"===e.t0?5:"geo"===e.t0?6:"device"===e.t0?7:"content"===e.t0?8:"userAgent"===e.t0?9:"os"===e.t0?10:"contextInfo"===e.t0?11:"tagsInfo"===e.t0?12:"contentMetadata"===e.t0?13:"url"===e.t0?14:"semver"===e.t0?15:16;break;case 4:return e.abrupt("return",Np(t,r.byzantium));case 5:return e.abrupt("return",Np(t,r));case 6:return e.abrupt("return",Ap(t,r));case 7:return e.abrupt("return",Tp(t));case 8:return e.abrupt("return",Op(t));case 9:return e.abrupt("return",Rp(t));case 10:return e.abrupt("return",_p(t));case 11:return e.abrupt("return",Lp(t,r.contextInfo));case 12:return e.abrupt("return",Lp(t,r.tagsInfo));case 13:return e.abrupt("return",Lp(t,r.contentMetadata));case 14:return e.abrupt("return",jp(t,r.urlUtmValues));case 15:return e.abrupt("return",Fp(t,r.appVersion));case 16:return e.abrupt("return",!1);case 17:e.next=22;break;case 19:return e.prev=19,e.t1=e.catch(0),e.abrupt("return",!1);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t,r){return e.apply(this,arguments)}}(),Op=function(){var e=Xa(ss.mark((function e(t){var r,n,o,i,a;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zu.getContentTags();case 2:if((r=e.sent)&&r.length){e.next=5;break}return e.abrupt("return",!1);case 5:return n=t.id.split("|"),o=$o(n,2),i=o[0],a=o[1],e.abrupt("return",r.some((function(e){return e.type===i&&e.id===a&&Cp(e.derivedScore,t.value,t.comparator,t.type)})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ap=function(){var e=Xa(ss.mark((function e(t,r){var n;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zu.geoIP(r);case 2:return n=e.sent.country,e.abrupt("return",Cp(n,t.value,t.comparator,t.type));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Tp=function(){var e=Xa(ss.mark((function e(t){return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cp(ep(),t.value,t.comparator,t.type));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rp=function(){var e=Xa(ss.mark((function e(t){return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cp(tp(),t.value,t.comparator,t.type));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_p=function(){var e=Xa(ss.mark((function e(t){return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cp(rp(),t.value,t.comparator,t.type));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pp=function(e,t,r){if(!t)return!1;var n=Es(t).call(t,(function(t){return t["".concat(r,"Id")]?Cp(t["".concat(r,"Id")],e.value,e.comparator,e.type):Cp(t.id,e.value,e.comparator,e.type)}));return"not"===e.comparator?n.length===t.length:1===n.length};function Cp(e,t,r,n){var o;if("boolean"===n)return function(e,t,r){switch(r){case"eq":return e===t;case"not":return e!==t;default:return!1}}(e,t,r);if(void 0===e)return!1;switch(r){case"gt":return e>t;case"lt":return e<t;case"eq":return e===t;case"not":return e!==t;case"gte":return e>=t;case"lte":return e<=t;case"ct":return-1!==e.indexOf(t);case"nct":return-1===e.indexOf(t);case"rgx":return o=new RegExp(t),null!==e.match(o);default:return!1}}var Np=function(e,t){var r=e.path.split("."),n=r[r.length-1],o=Up(r,t);return Array.isArray(o)?"numeric"===e.type?function(e,t,r){if(!t)return!1;var n=ps(t).call(t,(function(t){return t["".concat(r,"Id")]===e.id}));return!!n&&Cp(n.confidence,e.value,e.comparator,e.type)}(e,o,n):Pp(e,o,n):Cp(o,e.value,e.comparator,e.type)},Lp=function(e,t){var r=e.path.split("."),n=Up(r,t);return Array.isArray(n)?Pp(e,n,r[r.length-1]):Cp(n,e.value,e.comparator,e.type)},jp=function(e,t){switch(e.id){case"utmCode":return Mp(e,t.utmValues);case"queryParameters":return Dp(e,t.queryParams);case"url":return Lp(e,t)}},Mp=function(e,t){return Wd(Qd(t).call(t)).some((function(t){return Cp(t,e.value,e.comparator,e.type)}))},Dp=function(e,t){var r;return Es(r=Wd(Zd(t).call(t))).call(r,(function(t){return Cp(t,e.indicator_value,e.indicator_comparator,e.type)})).some((function(r){return Cp(t.get(r),e.value,e.comparator,e.type)}))},Fp=function(e,t){switch(e.comparator){case"gt":return wp(t,e.value);case"lt":return yp(t,e.value);case"eq":return Ep(t,e.value);case"not":return xp(t,e.value);case"gte":return Ip(t,e.value);case"lte":return kp(t,e.value);default:return!1}},Up=function(e,t){return e.reduce((function(e,t){return void 0!==e&&void 0!==e[t]?e[t]:void 0}),t)},Bp=function(){var e=Xa(ss.mark((function e(t,r){var n,o,i;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t.or){e.next=15;break}o=0;case 2:if(!(o<t.or.length)){e.next=12;break}return n=t.or[o],e.next=6,Bp(n,r);case 6:if(!e.sent){e.next=9;break}return e.abrupt("return",!0);case 9:o++,e.next=2;break;case 12:return e.abrupt("return",!1);case 15:if(void 0===t.and){e.next=30;break}i=0;case 17:if(!(i<t.and.length)){e.next=27;break}return n=t.and[i],e.next=21,Bp(n,r);case 21:if(e.sent){e.next=24;break}return e.abrupt("return",!1);case 24:i++,e.next=17;break;case 27:return e.abrupt("return",!0);case 30:return e.abrupt("return",Sp(t,r));case 31:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),$p=function(){var e=Xa(ss.mark((function e(t,r,n){var o,i;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o="object"===Vd(t)?Tf(t):t,void 0===n[o]){e.next=5;break}return e.abrupt("return",n[o]);case 5:return e.next=7,Bp(t,r);case 7:return i=e.sent,n[o]=i,e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),zp=function(){var e=Xa(ss.mark((function e(t){return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Ya((function(e,r){var n,o;null===(n=chrome)||void 0===n||null===(o=n.runtime)||void 0===o||o.sendMessage(t,{message:{readyForMockValues:!0}},(function(t){t.mockValues?Ou("Received mock values from Impersonator of ".concat(Tf(t.mockValues))):Tu("Failed to receive mock values from Impersonator"),e(t.mockValues)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gp=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===Vp}(e)}(e)};var Vp="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function Wp(e,t){return!1!==t.clone&&t.isMergeableObject(e)?qp((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function Xp(e,t,r){return e.concat(t).map((function(e){return Wp(e,r)}))}function Hp(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function Kp(e,t){try{return t in e}catch(e){return!1}}function Qp(e,t,r){var n={};return r.isMergeableObject(e)&&Hp(e).forEach((function(t){n[t]=Wp(e[t],r)})),Hp(t).forEach((function(o){(function(e,t){return Kp(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(Kp(e,o)&&r.isMergeableObject(t[o])?n[o]=function(e,t){if(!t.customMerge)return qp;var r=t.customMerge(e);return"function"==typeof r?r:qp}(o,r)(e[o],t[o],r):n[o]=Wp(t[o],r))})),n}function qp(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||Xp,r.isMergeableObject=r.isMergeableObject||Gp,r.cloneUnlessOtherwiseSpecified=Wp;var n=Array.isArray(t);return n===Array.isArray(e)?n?r.arrayMerge(e,t,r):Qp(e,t,r):Wp(t,r)}qp.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return qp(e,r,t)}),{})};var Jp,Yp,Zp,ev,tv=qp,rv=null!==(Jp=window)&&void 0!==Jp&&null!==(Yp=Jp.performance)&&void 0!==Yp&&Yp.mark?window.performance:{mark:function(){},measure:function(){}},nv=function(){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.platform,o=void 0===n?"frontend":n,i=r.bridge,a=void 0===i?null:i,s=r.options,u=void 0===s?{useCachedCoordinatorData:!1}:s;Ha(this,e),Ja(this,"refresh",this._init),Ja(this,"evaluateUrlInfo",jp),this._bindClassFunctions(this),Ou("Abba-Client version ".concat(Bd)),this._platform=o,this._bridge=null!=a?a:new Ld,Zu.setBridge(this._bridge),Au("Bridge set"),this._byzantium=new ad(this._bridge,{useCachedCoordinatorData:null!==(t=u.useCachedCoordinatorData)&&void 0!==t&&t}),Au("Byzantium initialized")}var t,r,n,o,i,a,s,u,c,f,l,d,p,v,h,g;return qa(e,[{key:"_bindClassFunctions",value:function(e){e._init=e._init.bind(e),e.getConfig=e.getConfig.bind(e),e._getConfig=e._getConfig.bind(e),e.getAccesslistMembership=e.getAccesslistMembership.bind(e),e.getAdParams=e.getAdParams.bind(e),e.getAdRecommendations=e.getAdRecommendations.bind(e),e.getDeviceInfo=e.getDeviceInfo.bind(e),e.getGeoIPData=e.getGeoIPData.bind(e),e.getPreferredAuthors=e.getPreferredAuthors.bind(e),e.getReferrerSource=e.getReferrerSource.bind(e),e.getSTRValues=e.getSTRValues.bind(e),e.getTags=e.getTags.bind(e),e.getPreferredTags=e.getPreferredTags.bind(e),e.getUserCredentials=e.getUserCredentials.bind(e),e.getUserInfo=e.getUserInfo.bind(e),e.setPersonalizationAllowedForMobileApp=e.setPersonalizationAllowedForMobileApp.bind(e)}},{key:"_init",value:(g=Xa(ss.mark((function e(){var t,r,n,o,i,a,s,u,c,f,l,d,p,v,h,g=this,m=arguments;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=m.length>0&&void 0!==m[0]?m[0]:{},a=i.contentMetadata,s=void 0===a?{}:a,u=i.abbaFeeds,c=void 0===u?null:u,f=i.coordinatorQueryParams,l=void 0===f?{}:f,d=i.options,p=void 0===d?{forceCoordinatorFetch:!1}:d,rv.mark("AbbaClient-_init-Start"),v="true"===(null===(t=window)||void 0===t||null===(r=t.sessionStorage)||void 0===r?void 0:r.getItem("inImpersonatorMode")),h=null===(n=window)||void 0===n||null===(o=n.sessionStorage)||void 0===o?void 0:o.getItem("impersonatorExtensionId"),!v||!h){e.next=10;break}return e.next=7,zp(h);case 7:this._impersonatorMockData=e.sent,e.next=11;break;case 10:v&&!h&&Tu("In impersonator mode but missing extension id. Value was: ".concat(h));case 11:$d.push(Xa(ss.mark((function e(){var t,r,n,o;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[function(){var e=Xa(ss.mark((function e(){var t;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g._byzantium.setContentMetadata(s);case 2:return e.next=4,g._byzantium.refreshCoordinatorServiceData({forceCoordinatorFetch:null!==(t=p.forceCoordinatorFetch)&&void 0!==t&&t,coordinatorQueryParams:l});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),null!=c?c:g._byzantium._fetchAbbaFeeds(g._platform)],e.next=4,Ya.all(t);case 4:r=e.sent,(n=$o(r,2))[0],o=n[1],g._feeds=o,rv.mark("AbbaClient-_init-End"),rv.measure("AbbaClient-_init","AbbaClient-_init-Start","AbbaClient-_init-End"),Au("Resolved Byzantium getAbbaFeeds, setContentMetadata and refreshCoordinatorServiceData calls");case 12:case"end":return e.stop()}}),e)})))),Au("Queued Byzantium setContentMetadata and refreshCoordinatorServiceData calls");case 13:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"getConfig",value:(h=Xa(ss.mark((function e(t){var r,n,o=this,i=arguments;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:{},t){e.next=3;break}throw new Error("You must provide a platformObject name for getConfig to obtain its abba target/experiment feed.");case 3:return e.next=5,$d.push(Xa(ss.mark((function e(){var n,i,a,s;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null!==(n=null==o?void 0:o._feeds[t])&&void 0!==n?n:null){e.next=3;break}throw new Error(ts(a="The feed for platform object ".concat(t," is not present in the ")).call(a,o._platform," feeds object"));case 3:return e.next=5,o._getConfig(i,r);case 5:return s=e.sent,Au("Resolved getConfig call for platformObject: ".concat(t)),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)}))));case 5:return n=e.sent,Au("Queued getConfig call for platformObject: ".concat(t)),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)}))),function(e){return h.apply(this,arguments)})},{key:"_getConfig",value:(v=Xa(ss.mark((function e(t){var r,n,o,i,a,s,u,c,f,l,d,p,v,h,g,m,b,w,y,E,x,I,k,S,O,A,T,R,_,P,C,N,L,j=arguments;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=j.length>1&&void 0!==j[1]?j[1]:{},e.prev=1,t=zd(t),Ud(t),Ou("Received valid feed",t),Ou("Provided user info",r),e.next=8,this._byzantium.getTargetingMetadata();case 8:n=e.sent,o=n.contextInfo,i=void 0===o?gc(sc):o,a=n.tagsInfo,s=void 0===a?gc(uc):a,u=n.urlUtmValues,c=void 0===u?gc(cc):u,f=n.contentMetadata,l=void 0===f?gc(fc):f,d=n.byzantium,p=n.geoIP,gc(ac)?r=null!==(v=gc(ac))&&void 0!==v?v:as({},r,{byzantium:d},{contextInfo:i},{tagsInfo:s},{urlUtmValues:c},{contentMetadata:l},{geoIP:p}):(r=as({},r,{byzantium:d},{contextInfo:i},{tagsInfo:s},{urlUtmValues:c},{contentMetadata:l},{geoIP:p}),r=tv(r,null!==(h=this._impersonatorMockData)&&void 0!==h?h:{})),Ou("Final user info set",r),g={},m=new Lc,Au("Evaluating experiments..."),b=t.targets.length-1;case 16:if(!(b>=0)){e.next=62;break}return w=t.targets[b],e.next=20,Zu.lockedInExperiment(w);case 20:if(e.t0=e.sent,e.t0){e.next=25;break}return e.next=24,$p(w.condition,r,g);case 24:e.t0=e.sent;case 25:if(!e.t0){e.next=59;break}return Ou("Met condition for target ".concat(w.targetId),w),y=void 0,e.prev=29,e.next=32,rc(w);case 32:y=e.sent,e.next=39;break;case 35:return e.prev=35,e.t1=e.catch(29),Tu("Attempted to evaluate experiments for the target ".concat(w.targetId," but an error occurred."),{target:w,error:e.t1}),e.abrupt("continue",59);case 39:if(!y){e.next=56;break}return I=ts(E=ts(x="".concat(w.targetId,".")).call(x,y.experimentId,"=")).call(E,y.bucketId),k=void 0,S=void 0,e.prev=42,e.next=45,Zu.getExperimentPlacement(y.experimentId);case 45:S=e.sent,k=m.addExperimentConfig(y.config,I,y.endTime,S),e.next=53;break;case 49:return e.prev=49,e.t2=e.catch(42),Tu("Attempted to get the previous placement for experiment ".concat(y.experimentId," and add it to the config object but an error occurred."),{experimentPlacement:S,error:e.t2}),e.abrupt("continue",59);case 53:Ou(k?ts(O=ts(A="Placed into experiment ".concat(y.experimentId," in bucket ")).call(A,y.bucketId," of target ")).call(O,w.targetId):ts(T=ts(R="Attempted to place into experiment ".concat(y.experimentId," in bucket ")).call(R,y.bucketId," of target ")).call(T,w.targetId,", but there were overlapping configurations."),y),e.next=59;break;case 56:return e.next=58,Zu.setTargetPlacement(w.targetId,null,null);case 58:Ou("User did not fall into any experiment in ".concat(w.targetId));case 59:b--,e.next=16;break;case 62:Au("Evaluating targets..."),_=t.targets.length-1;case 64:if(!(_>=0)){e.next=86;break}return P=t.targets[_],e.next=68,$p(P.condition,r,g);case 68:if(!e.sent){e.next=83;break}return C=void 0,N=void 0,e.prev=71,e.next=74,Zu.getTargetPlacement(P.targetId);case 74:N=e.sent,C=m.addTargetConfig(P.config,P.targetId,N),e.next=82;break;case 78:return e.prev=78,e.t3=e.catch(71),Tu("Attempted to get the previous placement for target ".concat(P.targetId," and add it to the config object but an error occurred."),{targetPlacement:N,error:e.t3}),e.abrupt("continue",83);case 82:Ou(C?"Target ".concat(P.targetId," configuration applied"):"Attempted to apply target ".concat(P.targetId," but there were overlapping configurations."),P);case 83:_--,e.next=64;break;case 86:return Au("Applying preview configs"),e.next=89,hc(m.getConfig());case 89:return L=e.sent,Ou("Final configuration",L),e.abrupt("return",L);case 94:throw e.prev=94,e.t4=e.catch(1),console.error(e.t4),Tu("Error in processing",e.t4),e.t4;case 99:case"end":return e.stop()}}),e,this,[[1,94],[29,35],[42,49],[71,78]])}))),function(e){return v.apply(this,arguments)})},{key:"getAccesslistMembership",value:(p=Xa(ss.mark((function e(){var t=this;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$d.push(Xa(ss.mark((function e(){return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t._byzantium.getAccesslistMembership());case 1:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return p.apply(this,arguments)})},{key:"getAdParams",value:function(){var e=Xa(ss.mark((function e(t){var r=this;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$d.push(Xa(ss.mark((function e(){return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r._byzantium.getAdParams(t));case 1:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAdRecommendations",value:(d=Xa(ss.mark((function e(t,r){var n=this;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$d.push(Xa(ss.mark((function e(){return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._byzantium.getAdRecommendations(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return d.apply(this,arguments)})},{key:"getAdRecommendationsPotentiallyStale",value:(l=Xa(ss.mark((function e(t,r){return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._byzantium.getAdRecommendations(t,r));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"getContextMetadata",value:(f=Xa(ss.mark((function e(){return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._byzantium.getContextMetadata());case 1:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"getDeviceInfo",value:function(){return this._byzantium.getDeviceInfo()}},{key:"getGeoIPData",value:(c=Xa(ss.mark((function e(){var t=this;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$d.push(Xa(ss.mark((function e(){return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._byzantium.getGeoIPData();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return c.apply(this,arguments)})},{key:"getPreferredAuthors",value:function(){var e=Xa(ss.mark((function e(){var t=this;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$d.push(Xa(ss.mark((function e(){return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t._byzantium.getPreferredAuthors());case 1:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getReferrerSource",value:(u=Xa(ss.mark((function e(){return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._byzantium.getReferrerSource();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"getSTRValues",value:(s=Xa(ss.mark((function e(){var t=this;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$d.push(Xa(ss.mark((function e(){return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._byzantium.getSTRValues();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return s.apply(this,arguments)})},{key:"getTags",value:(a=Xa(ss.mark((function e(t,r){var n=this;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$d.push(Xa(ss.mark((function e(){return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._byzantium.getTags(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return a.apply(this,arguments)})},{key:"getTagsPotentiallyStale",value:(i=Xa(ss.mark((function e(t,r){return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._byzantium.getTags(t,r));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"getPreferredTags",value:function(){var e=Xa(ss.mark((function e(t){var r=this;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$d.push(Xa(ss.mark((function e(){return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r._byzantium.getPreferredTags(t));case 1:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserCredentials",value:(o=Xa(ss.mark((function e(){var t=this;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$d.push(Xa(ss.mark((function e(){return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._byzantium.getUserCredentials();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"getUserInfo",value:(n=Xa(ss.mark((function e(){var t=this;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$d.push(Xa(ss.mark((function e(){return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._byzantium.getUserInfo();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"setPersonalizationAllowedForMobileApp",value:(r=Xa(ss.mark((function e(t){var r=this;return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$d.push(Xa(ss.mark((function e(){return ss.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._bridge.setPersonalizationAllowed(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})}],[{key:"build",value:(t=Xa(ss.mark((function t(){var r,n,o,i,a,s,u,c,f,l,d,p,v,h,g=arguments;return ss.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=g.length>0&&void 0!==g[0]?g[0]:{},n=r.platform,o=void 0===n?"frontend":n,i=r.bridge,a=void 0===i?null:i,s=r.contentMetadata,u=void 0===s?{}:s,c=r.abbaFeeds,f=void 0===c?null:c,l=r.coordinatorQueryParams,d=void 0===l?{}:l,p=r.options,h=new e({platform:o,bridge:a,options:v=void 0===p?{useCachedCoordinatorData:!1,forceCoordinatorFetch:!0}:p}),t.next=4,h._init({contentMetadata:u,abbaFeeds:f,coordinatorQueryParams:d,options:v});case 4:return t.abrupt("return",h);case 5:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})}]),e}();return null===(Zp=window)||void 0===Zp||null===(ev=Zp.document)||void 0===ev||ev.dispatchEvent(new CustomEvent("abbaClient:loaded")),nv}));
