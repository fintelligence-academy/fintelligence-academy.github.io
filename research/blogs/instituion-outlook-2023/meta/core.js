!function(){"use strict";var e={navThemeToSiteId:{default:"bbiz",markets:"markets",technology:"technology",pursuits:"pursuits",politics:"bpol",businessweek:"businessweek",bw:"businessweek",gadfly:"bview",opinion:"bview",view:"bview",green:"green",citylab:"citylab",wealth:"wealth",equality:"equality",quicktake:"quicktake"}};window.config=window.config||{},window.dvzConfig=window.dvzConfig||{};const n=document.getElementById("dvz-config");if(n)try{window.dvzConfig=JSON.parse(n.textContent),window.dvzConfig.url=window.location.pathname,window.dvzConfig.metered=window.dvz_metered,window.dvzConfig.premium=window.dvz_premium,window.dvzConfig.navTheme=window.dvzConfig.brand,window.dvzConfig.navCobrandTheme=window.dvzConfig.secondaryBrands&&window.dvzConfig.secondaryBrands.length>1?window.dvzConfig.secondaryBrands[1]:"default"}catch(e){console.error("Error parsing config json:",e)}else{~window.location.href.indexOf("bloomberg.com/graphics/")&&"bpol"===window.config.bb_brand&&(window.config.bb_brand="bbiz");const{navThemeToSiteId:n}=e,o=n[window.config.navTheme]||"bbiz";window.dvzConfig={adCode:window.config.ad_code,brand:document.head.querySelector('meta[name="parsely-section"]')&&document.head.querySelector('meta[name="parsely-section"]').content,byline:window.config.bb_author,id:window.config.bb_groupId,metered:window.config.metered,navTheme:window.config.navTheme,navCobrandTheme:window.config.navCobrandTheme,pillar:window.config.editorialPillar,premium:window.config.premium,publishedAt:window.config.bb_pub_d,secondaryBrands:[o,n[window.config.navCobrandTheme]],site:o,sites:window.config.bb_brand,slug:window.config.bb_slug,textHeadline:document.head.querySelector('meta[name="parsely-title"]')&&document.head.querySelector('meta[name="parsely-title"]').content,topic:window.config.org,url:window.config.org?"/"+window.config.org+"/"+window.config.bb_slug:window.location.pathname}}window.dvzConfig.adCode=window.dvzConfig.adCode||"business/news/graphics",~window.location.search.indexOf("ad-test-environment=")&&(window.dvzConfig.adCode=window.dvzConfig.adCode.replace("/business/","/testbusiness/")),window.dataLayer=window.dataLayer||[];const o={adcode:window.dvzConfig.adCode,attributor:"visdata",author:window.dvzConfig.byline,brand:window.dvzConfig.brand,categories:(window.dvzConfig.categories||[]).filter((e=>e)).join(","),contentType:"content-graphic",editorialPillar:window.dvzConfig.pillar,franchise:window.dvzConfig.franchise,headline:window.dvzConfig.textHeadline,pageType:"content",publishedAt:window.dvzConfig.publishedAt,referrer:document.referrer,refresh:"false",resourceId:window.dvzConfig.id,resourceType:"Interactive",secondaryBrands:(window.dvzConfig.secondaryBrands||[]).filter((e=>e)).join(","),siteId:window.dvzConfig.site,slug:window.dvzConfig.slug,storyId:window.dvzConfig.id,tags:[window.dvzConfig.mostRelevantTags,window.dvzConfig.secondaryBrands,window.dvzConfig.franchise].filter((e=>e&&e.length>0)).join(","),template:"graphics-standalone-html",topic:window.dvzConfig.topic,transporter:"false"};for(const e in o)void 0!==o[e]&&null!==o[e]&&""!==o[e]||delete o[e];window.dataLayer.push(o);var i="undefined"!=typeof window&&~window.navigator.userAgent.indexOf("BloombergHorseshoe")?"Consumer":!!~window.navigator.userAgent.indexOf("Bloomberg")&&"Professional";function d(){window.isTerminal&&document.querySelectorAll("a").forEach((function(e){if("Consumer"===i)e.classList.add("dvz-t-allow");else{const o=e.getAttribute("href"),i=e.classList.contains("dvz-t-bypass"),d=o&&0===o.indexOf("#");i||d||(e.removeAttribute("href"),e.classList.add("dvz-t-disable"));try{if(i&&!d&&o){const n=new URL(o,window.location.href);n.origin.includes("bloomberg")&&(n.searchParams.set("terminal",1),e.setAttribute("href",n))}}catch(e){console.error(e)}var n=e.dataset.terminal;n&&(e.setAttribute("href",t(n)),e.classList.add("dvz-t-allow"),e.classList.remove("dvz-t-disable"),e.classList.remove("dvz-t-web-disabled"))}}))}function t(e,n){"Professional"===i&&(n=!0);var o=n?"https://blinks.bloomberg.com/":"bbg://",d=new RegExp(".*(?:Equity|Index)$","i").test(e),t=e.match(/^NSN (\S*)/),a=o;return d?(a+="securities/",a+=e):t?(a+="news/stories/",a+=t[1]):(a+="screens/",a+=e),encodeURI(a)}"undefined"!=typeof module&&void 0!==module.exports?module.exports={dvz_getBlink:t,dvz_enableBlinks:d}:(window.dvz_getBlink=t,window.dvz_enableBlinks=d,window.addEventListener("DOMContentLoaded",d))}();
